import{c}from"./chunk-LTULPU5F.js";import{D as r}from"./chunk-RJUWFZIY.js";import{a as n,i as e}from"./chunk-H5ORMA4Q.js";var b=(()=>{class a{constructor(){this.dbPromise=c("AppointmentsDB",1,{upgrade(t){t.createObjectStore("physicians",{keyPath:"name"}),t.createObjectStore("patients",{keyPath:"mobile"}),t.createObjectStore("appointments",{keyPath:"id"})}})}addPhysician(t){return e(this,null,function*(){yield(yield this.dbPromise).put("physicians",t)})}addPatient(t){return e(this,null,function*(){yield(yield this.dbPromise).put("patients",t)})}addAppointment(t){return e(this,null,function*(){yield(yield this.dbPromise).put("appointments",t)})}getPhysicians(){return e(this,null,function*(){return(yield this.dbPromise).getAll("physicians")})}getPatients(){return e(this,null,function*(){return(yield this.dbPromise).getAll("patients")})}getAppointments(){return e(this,null,function*(){return(yield this.dbPromise).getAll("appointments")})}updateAppointment(t,i){return e(this,null,function*(){let s=yield this.dbPromise,o=yield s.get("appointments",t);if(o){let p=n(n({},o),i);return yield s.put("appointments",p),p}return null})}deleteAppointment(t){return e(this,null,function*(){yield(yield this.dbPromise).delete("appointments",t)})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=r({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{b as a};
