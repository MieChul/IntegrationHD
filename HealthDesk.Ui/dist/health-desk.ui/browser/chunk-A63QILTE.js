import{a as v}from"./chunk-S33A3TAB.js";import{c as ne,f as Fe,h as pe,i as Ie}from"./chunk-ZUXQWFJP.js";import{A as de,B as O,C as ce,E as P,G as ke,H as L,I as z,J as G,K as H,P as V,ka as Ve,r as se,s as F,v as I,w as N,z as U}from"./chunk-FS75365R.js";import{$ as d,Ab as Ee,Bb as T,Db as k,Ea as _,Eb as De,Ja as h,O as re,Rb as W,Sa as i,Sb as M,Ta as t,Tb as me,U as E,Ua as s,V as le,Xa as g,Xb as R,Yb as Me,_a as p,aa as c,ab as y,eb as ve,gb as w,hb as x,ib as S,ic as Te,jc as ge,lb as Y,mb as n,nb as f,ob as A,pb as X,qb as _e,rb as K,sa as m,sb as Z,ta as D,tb as ee,wb as Se,xb as te,yb as ie,za as xe}from"./chunk-YUQOPSVW.js";import{a as j,b as J}from"./chunk-H5ORMA4Q.js";var Ae=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275cmp=E({type:l,selectors:[["app-patient"]],decls:2,vars:0,template:function(a,o){a&1&&(i(0,"p"),n(1,"patient works!"),t())}})}}return l})();var Re=(()=>{class l{constructor(){this.showSidebar=!0}ngOnInit(){this.showSidebar=location.pathname!=="patient/"}static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275cmp=E({type:l,selectors:[["app-landing"]],decls:86,vars:0,consts:[[1,"container"],[1,"animated-heading"],[1,"row","justify-content-center","mb-2"],[1,"col","card","small"],[1,"h-100","fade-in"],["src","assets/design-prescription.png","alt","",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","/patient/history",1,"btn","btn-primary"],["src","assets/patient-record.png","alt","",1,"card-img-top"],["href","/patient/treatment",1,"btn","btn-primary"],["src","assets/appointment.png","alt","",1,"card-img-top"],["href","/patient/appointments",1,"btn","btn-primary"],[1,"row","justify-content-center"],["src","assets/medical-journal.png","alt","",1,"card-img-top"],["href","/patient/self-recording",1,"btn","btn-primary"],["src","assets/cases.png","alt","",1,"card-img-top"],["href","/patient/refill",1,"btn","btn-primary"],["src","assets/survey.png","alt","",1,"card-img-top"],["href","/patient/daily-activity",1,"btn","btn-primary"],["href","/patient/rate",1,"btn","btn-primary"],["href","/patient/remidies",1,"btn","btn-primary"]],template:function(a,o){a&1&&(i(0,"div",0)(1,"h1",1),n(2," Welocme Username!! How can I help you today? "),t(),i(3,"div",2)(4,"div",3)(5,"div",4),s(6,"img",5),i(7,"div",6)(8,"h5",7),n(9,"Medical History"),t(),i(10,"p",8),n(11,"Access and update medical history."),t(),i(12,"a",9),n(13,"Go to Medical History"),t()()()(),i(14,"div",3)(15,"div",4),s(16,"img",10),i(17,"div",6)(18,"h5",7),n(19,"Current Treatment"),t(),i(20,"p",8),n(21,"Review and analyze current Treatment."),t(),i(22,"a",11),n(23,"Go to Treatment"),t()()()(),i(24,"div",3)(25,"div",4),s(26,"img",12),i(27,"div",6)(28,"h5",7),n(29,"Manage Appointments"),t(),i(30,"p",8),n(31,"Accept/Reject and manage appointments."),t(),i(32,"a",13),n(33,"Go to Appointments"),t()()()()(),i(34,"div",14)(35,"div",3)(36,"div",4),s(37,"img",15),i(38,"div",6)(39,"h5",7),n(40,"Self Recording Data"),t(),i(41,"p",8),n(42,"Review and analyze Data."),t(),i(43,"a",16),n(44,"Go to Manage Self Data"),t()()()(),i(45,"div",3)(46,"div",4),s(47,"img",17),i(48,"div",6)(49,"h5",7),n(50,"Medicine Refill & Complaince"),t(),i(51,"p",8),n(52,"Access and update Medicine Refill & Complaince."),t(),i(53,"a",18),n(54,"Go to Medicine Refill & Complaince"),t()()()(),i(55,"div",3)(56,"div",4),s(57,"img",19),i(58,"div",6)(59,"h5",7),n(60,"Record Daily Activity"),t(),i(61,"p",8),n(62,"Create and manage Daily Activity."),t(),i(63,"a",20),n(64,"Go to Daily Activity"),t()()()()(),i(65,"div",14)(66,"div",3)(67,"div",4),s(68,"img",19),i(69,"div",6)(70,"h5",7),n(71,"Search and Rate Doctors"),t(),i(72,"p",8),n(73,"Search and Rate Doctorss."),t(),i(74,"a",21),n(75,"Go to Search and Rate Doctors"),t()()()(),i(76,"div",3)(77,"div",4),s(78,"img",19),i(79,"div",6)(80,"h5",7),n(81,"Home Remidies"),t(),i(82,"p",8),n(83,"Create and manage Home Remidies."),t(),i(84,"a",22),n(85,"Go to Home Remidies"),t()()()()()())}})}}return l})();var Qe=["historyModal"];function $e(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),t(),i(10,"td"),n(11),t(),i(12,"td"),n(13),t(),i(14,"td"),n(15),t(),i(16,"td")(17,"button",42),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editHistory(o))}),s(18,"i",43),t(),i(19,"button",44),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteHistory(o))}),s(20,"i",45),t()()()}if(l&2){let e=b.$implicit;m(2),f(k(3,7,e.diagnosisDate,"dd-MM-yyyy")),m(3),f(e.disease),m(2),f(e.drug),m(2),f(e.dosageForm),m(2),f(e.strength),m(2),f(e.frequency),m(2),f(e.outcome)}}var Ne=(()=>{class l{constructor(e){this.fb=e,this.patientHistories=[],this.isEditMode=!1}ngOnInit(){this.historyForm=this.fb.group({diagnosisDate:[""],disease:[""],drug:[""],dosageForm:[""],strength:[""],frequency:[""],outcome:[""]}),this.loadDummyData()}loadDummyData(){this.patientHistories=[{diagnosisDate:new Date("2023-08-01"),disease:"Diabetes",drug:"Metformin",dosageForm:"Tablet",strength:"500mg",frequency:"Twice a day",outcome:"Stable"},{diagnosisDate:new Date("2022-07-15"),disease:"Hypertension",drug:"Amlodipine",dosageForm:"Tablet",strength:"10mg",frequency:"Once a day",outcome:"Improved"}]}addHistory(){this.isEditMode=!1,this.historyForm.reset(),new v(this.historyModal.nativeElement).show()}editHistory(e){this.isEditMode=!0,this.selectedHistory=e,this.historyForm.patchValue(e),new v(this.historyModal.nativeElement).show()}deleteHistory(e){this.patientHistories=this.patientHistories.filter(a=>a!==e)}saveHistory(){this.isEditMode?Object.assign(this.selectedHistory,this.historyForm.value):this.patientHistories.push(this.historyForm.value),new v(this.historyModal.nativeElement).hide()}sortTable(e){this.patientHistories.sort((a,o)=>a[e]<o[e]?-1:a[e]>o[e]?1:0)}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-patient-history"]],viewQuery:function(a,o){if(a&1&&w(Qe,5),a&2){let r;x(r=S())&&(o.historyModal=r.first)}},decls:79,vars:4,consts:[["filterDatePicker","ngbDatepicker"],["historyModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-calendar-check","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-8","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"mb-2","me-3"],["for","filterDate",1,"form-label","label-modern","shadow"],["type","text","id","filterDate","ngbDatepicker","","formControlName","filterDate",1,"form-control",3,"click"],[1,"col-md-4","col-sm-6","d-flex","justify-content-end","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","historyModal","tabindex","-1","aria-labelledby","historyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","historyModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","diagnosisDate",1,"form-label","label-modern","shadow"],["type","date","id","diagnosisDate","formControlName","diagnosisDate",1,"form-control"],["for","disease",1,"form-label","label-modern","shadow"],["type","text","id","disease","formControlName","disease",1,"form-control"],["for","drug",1,"form-label","label-modern","shadow"],["type","text","id","drug","formControlName","drug",1,"form-control"],["for","dosageForm",1,"form-label","label-modern","shadow"],["type","text","id","dosageForm","formControlName","dosageForm",1,"form-control"],["for","strength",1,"form-label","label-modern","shadow"],["type","text","id","strength","formControlName","strength",1,"form-control"],["for","frequency",1,"form-label","label-modern","shadow"],["type","text","id","frequency","formControlName","frequency",1,"form-control"],["for","outcome",1,"form-label","label-modern","shadow"],["type","text","id","outcome","formControlName","outcome",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(a,o){if(a&1){let r=g();i(0,"div",2)(1,"h1",3),s(2,"i",4),n(3,"Patient History "),t(),i(4,"div",5)(5,"div",6)(6,"div",7)(7,"label",8),n(8,"Filter by Date"),t(),i(9,"input",9,0),p("click",function(){d(r);let C=Y(10);return c(C.toggle())}),t()()(),i(11,"div",10)(12,"button",11),p("click",function(){return d(r),c(o.addHistory())}),n(13,"Add History"),t()()(),i(14,"div",12)(15,"table",13)(16,"thead")(17,"tr")(18,"th",14),p("click",function(){return d(r),c(o.sortTable("diagnosisDate"))}),n(19,"Date of Diagnosis"),t(),i(20,"th",14),p("click",function(){return d(r),c(o.sortTable("disease"))}),n(21,"Disease"),t(),i(22,"th",14),p("click",function(){return d(r),c(o.sortTable("drug"))}),n(23,"Treatment Drug"),t(),i(24,"th",14),p("click",function(){return d(r),c(o.sortTable("dosageForm"))}),n(25,"Dosage Form"),t(),i(26,"th",14),p("click",function(){return d(r),c(o.sortTable("strength"))}),n(27,"Strength"),t(),i(28,"th",14),p("click",function(){return d(r),c(o.sortTable("frequency"))}),n(29,"Frequency"),t(),i(30,"th",14),p("click",function(){return d(r),c(o.sortTable("outcome"))}),n(31,"Outcome"),t(),i(32,"th"),n(33,"Action"),t()()(),i(34,"tbody"),_(35,$e,21,10,"tr",15),t()()()(),i(36,"div",16,1)(38,"div",17)(39,"div",18)(40,"div",19)(41,"h5",20),n(42),t(),s(43,"button",21),t(),i(44,"div",22)(45,"form",23)(46,"div",24)(47,"label",25),n(48,"Date of Diagnosis"),t(),s(49,"input",26),t(),i(50,"div",24)(51,"label",27),n(52,"Disease"),t(),s(53,"input",28),t(),i(54,"div",24)(55,"label",29),n(56,"Treatment Drug"),t(),s(57,"input",30),t(),i(58,"div",24)(59,"label",31),n(60,"Dosage Form"),t(),s(61,"input",32),t(),i(62,"div",24)(63,"label",33),n(64,"Strength"),t(),s(65,"input",34),t(),i(66,"div",24)(67,"label",35),n(68,"Frequency"),t(),s(69,"input",36),t(),i(70,"div",24)(71,"label",37),n(72,"Outcome"),t(),s(73,"input",38),t()()(),i(74,"div",39)(75,"button",40),n(76,"Close"),t(),i(77,"button",41),p("click",function(){return d(r),c(o.saveHistory())}),n(78),t()()()()()}a&2&&(m(35),h("ngForOf",o.patientHistories),m(7),f(o.isEditMode?"Edit History":"Add History"),m(3),h("formGroup",o.historyForm),m(33),f(o.isEditMode?"Save Changes":"Add History"))},dependencies:[ne,M,O,F,I,N,P,L,R]})}}return l})();var je=["treatmentModal"];function We(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),T(11,"date"),t(),i(12,"td"),n(13),T(14,"date"),t(),i(15,"td"),n(16),t(),i(17,"td"),n(18),t(),i(19,"td")(20,"button",45),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editTreatment(o))}),s(21,"i",46),t(),i(22,"button",47),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteTreatment(o))}),s(23,"i",48),t()()()}if(l&2){let e=b.$implicit;m(2),f(e.drugName),m(2),f(e.dosageForm),m(2),f(e.strength),m(2),f(e.frequency),m(2),f(k(11,8,e.startDate,"dd-MM-yyyy")),m(3),f(e.endDate?k(14,11,e.endDate,"dd-MM-yyyy"):"N/A"),m(3),f(e.ongoing?"Yes":"No"),m(2),f(e.comment)}}var Oe=(()=>{class l{constructor(e){this.fb=e,this.patientTreatments=[],this.isEditMode=!1}ngOnInit(){this.treatmentForm=this.fb.group({drugName:[""],dosageForm:[""],strength:[""],frequency:[""],startDate:[""],endDate:[""],ongoing:[!1],comment:[""]}),this.loadDummyData(),this.treatmentForm.get("ongoing")?.valueChanges.subscribe(e=>{e?(this.treatmentForm.get("endDate")?.disable(),this.treatmentForm.get("endDate")?.setValue(null)):this.treatmentForm.get("endDate")?.enable()})}loadDummyData(){this.patientTreatments=[{drugName:"Amoxicillin",dosageForm:"Capsule",strength:"500mg",frequency:"Three times a day",startDate:new Date("2023-08-01"),endDate:new Date("2023-08-10"),ongoing:!1,comment:"For bacterial infection"},{drugName:"Metformin",dosageForm:"Tablet",strength:"850mg",frequency:"Twice a day",startDate:new Date("2022-07-15"),ongoing:!0,comment:"For diabetes management"}]}addTreatment(){this.isEditMode=!1,this.treatmentForm.reset(),new v(this.treatmentModal.nativeElement).show()}editTreatment(e){this.isEditMode=!0,this.selectedTreatment=e,this.treatmentForm.patchValue(J(j({},e),{startDate:this.formatDateForInput(e.startDate),endDate:e.endDate?this.formatDateForInput(e.endDate):null})),new v(this.treatmentModal.nativeElement).show()}deleteTreatment(e){this.patientTreatments=this.patientTreatments.filter(a=>a!==e)}saveTreatment(){let e=this.treatmentForm.value,a={drugName:e.drugName,dosageForm:e.dosageForm,strength:e.strength,frequency:e.frequency,startDate:new Date(e.startDate),endDate:e.ongoing?void 0:new Date(e.endDate),ongoing:e.ongoing,comment:e.comment};this.isEditMode?Object.assign(this.selectedTreatment,a):this.patientTreatments.push(a),new v(this.treatmentModal.nativeElement).hide()}sortTable(e){}toggleEndDate(){this.treatmentForm.get("ongoing")?.value?(this.treatmentForm.get("endDate")?.disable(),this.treatmentForm.get("endDate")?.setValue(null)):this.treatmentForm.get("endDate")?.enable()}formatDateForInput(e){let a=new Date(e),o=("0"+(a.getMonth()+1)).slice(-2),r=("0"+a.getDate()).slice(-2);return`${a.getFullYear()}-${o}-${r}`}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-patient-treatment"]],viewQuery:function(a,o){if(a&1&&w(je,5),a&2){let r;x(r=S())&&(o.treatmentModal=r.first)}},decls:85,vars:5,consts:[["filterDatePicker","ngbDatepicker"],["treatmentModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-prescription","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-8","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"mb-2","me-3"],["for","filterDate",1,"form-label","label-modern","shadow"],["type","text","id","filterDate","ngbDatepicker","","formControlName","filterDate",1,"form-control",3,"click"],[1,"col-md-4","col-sm-6","d-flex","justify-content-end","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","treatmentModal","tabindex","-1","aria-labelledby","treatmentModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","treatmentModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","drugName",1,"form-label","label-modern","shadow"],["type","text","id","drugName","formControlName","drugName",1,"form-control"],["for","dosageForm",1,"form-label","label-modern","shadow"],["type","text","id","dosageForm","formControlName","dosageForm",1,"form-control"],["for","strength",1,"form-label","label-modern","shadow"],["type","text","id","strength","formControlName","strength",1,"form-control"],["for","frequency",1,"form-label","label-modern","shadow"],["type","text","id","frequency","formControlName","frequency",1,"form-control"],["for","startDate",1,"form-label","label-modern","shadow"],["type","date","id","startDate","formControlName","startDate",1,"form-control"],["for","endDate",1,"form-label","label-modern","shadow"],["type","date","id","endDate","formControlName","endDate",1,"form-control",3,"disabled"],[1,"mb-3","form-check"],["type","checkbox","id","ongoing","formControlName","ongoing",1,"form-check-input",3,"change"],["for","ongoing",1,"form-check-label","label-modern","shadow"],["for","comment",1,"form-label","label-modern","shadow"],["id","comment","formControlName","comment",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(a,o){if(a&1){let r=g();i(0,"div",2)(1,"h1",3),s(2,"i",4),n(3,"Patient Treatment "),t(),i(4,"div",5)(5,"div",6)(6,"div",7)(7,"label",8),n(8,"Filter by Start Date"),t(),i(9,"input",9,0),p("click",function(){d(r);let C=Y(10);return c(C.toggle())}),t()()(),i(11,"div",10)(12,"button",11),p("click",function(){return d(r),c(o.addTreatment())}),n(13,"Add Treatment"),t()()(),i(14,"div",12)(15,"table",13)(16,"thead")(17,"tr")(18,"th",14),p("click",function(){return d(r),c(o.sortTable("drugName"))}),n(19,"Drug Name"),t(),i(20,"th",14),p("click",function(){return d(r),c(o.sortTable("dosageForm"))}),n(21,"Dosage Form"),t(),i(22,"th",14),p("click",function(){return d(r),c(o.sortTable("strength"))}),n(23,"Strength"),t(),i(24,"th",14),p("click",function(){return d(r),c(o.sortTable("frequency"))}),n(25,"Frequency"),t(),i(26,"th",14),p("click",function(){return d(r),c(o.sortTable("startDate"))}),n(27,"Start Date"),t(),i(28,"th",14),p("click",function(){return d(r),c(o.sortTable("endDate"))}),n(29,"End Date"),t(),i(30,"th",14),p("click",function(){return d(r),c(o.sortTable("ongoing"))}),n(31,"Ongoing"),t(),i(32,"th"),n(33,"Comment"),t(),i(34,"th"),n(35,"Action"),t()()(),i(36,"tbody"),_(37,We,24,14,"tr",15),t()()()(),i(38,"div",16,1)(40,"div",17)(41,"div",18)(42,"div",19)(43,"h5",20),n(44),t(),s(45,"button",21),t(),i(46,"div",22)(47,"form",23)(48,"div",24)(49,"label",25),n(50,"Drug Name"),t(),s(51,"input",26),t(),i(52,"div",24)(53,"label",27),n(54,"Dosage Form"),t(),s(55,"input",28),t(),i(56,"div",24)(57,"label",29),n(58,"Strength"),t(),s(59,"input",30),t(),i(60,"div",24)(61,"label",31),n(62,"Frequency"),t(),s(63,"input",32),t(),i(64,"div",24)(65,"label",33),n(66,"Start Date"),t(),s(67,"input",34),t(),i(68,"div",24)(69,"label",35),n(70,"End Date"),t(),s(71,"input",36),t(),i(72,"div",37)(73,"input",38),p("change",function(){return d(r),c(o.toggleEndDate())}),t(),i(74,"label",39),n(75,"Ongoing"),t()(),i(76,"div",24)(77,"label",40),n(78,"Comment"),t(),s(79,"textarea",41),t()()(),i(80,"div",42)(81,"button",43),n(82,"Close"),t(),i(83,"button",44),p("click",function(){return d(r),c(o.saveTreatment())}),n(84),t()()()()()}if(a&2){let r;m(37),h("ngForOf",o.patientTreatments),m(7),f(o.isEditMode?"Edit Treatment":"Add Treatment"),m(3),h("formGroup",o.treatmentForm),m(24),h("disabled",(r=o.treatmentForm.get("ongoing"))==null?null:r.value),m(13),f(o.isEditMode?"Save Changes":"Add Treatment")}},dependencies:[ne,M,O,F,se,I,N,P,L,R]})}}return l})();var Ye=["appointmentModal"],Ue=["infoModal"],Je=["cancelModal"],Xe=(l,b)=>({"light-green-row":l,"light-yellow-row":b});function Ke(l,b){l&1&&(i(0,"th"),n(1,"Action"),t())}function Ze(l,b){l&1&&(i(0,"th"),n(1,"Cancelled By"),t())}function et(l,b){l&1&&(i(0,"th"),n(1,"Reason"),t())}function tt(l,b){if(l&1){let e=g();i(0,"button",16),p("click",function(){d(e);let o=y(2).$implicit,r=y(2);return c(r.openInfoModal(o))}),s(1,"i",17),t()}}function it(l,b){if(l&1){let e=g();i(0,"td"),_(1,tt,2,0,"button",13),i(2,"button",14),p("click",function(){d(e);let o=y().$implicit,r=y(2);return c(r.openCancelModal(o))}),s(3,"i",15),t()()}if(l&2){let e=y().$implicit;m(),h("ngIf",e.proposedNewTime)}}function nt(l,b){if(l&1&&(i(0,"td"),n(1),t()),l&2){let e=y().$implicit;m(),f(e.cancelledBy)}}function ot(l,b){if(l&1&&(i(0,"td"),n(1),t()),l&2){let e=y().$implicit;m(),f(e.reason)}}function at(l,b){if(l&1&&(i(0,"tr",12)(1,"td"),n(2),t(),i(3,"td"),n(4),T(5,"date"),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),t(),i(10,"td"),n(11),t(),_(12,it,4,1,"td",10)(13,nt,2,1,"td",10)(14,ot,2,1,"td",10),t()),l&2){let e=b.$implicit;h("ngClass",ie(12,Xe,e.appointmentStatus==="Accepted"&&e.status==="pending",e.appointmentStatus==="New Time Proposed")),m(2),f(e.doctorName),m(2),f(k(5,9,e.appointmentDate,"dd-MM-yyyy")),m(3),f(e.appointmentTime),m(2),f(e.clinicName),m(2),f(e.appointmentStatus),m(),h("ngIf",e.status==="pending"),m(),h("ngIf",e.status==="cancelled"),m(),h("ngIf",e.status==="cancelled")}}function rt(l,b){if(l&1&&(i(0,"tbody"),_(1,at,15,15,"tr",11),t()),l&2){let e=y();m(),h("ngForOf",e.filteredAppointments)}}var Pe=(()=>{class l{constructor(e){this.fb=e,this.pendingAppointments=[],this.pastAppointments=[],this.cancelledAppointments=[],this.filteredAppointments=[],this.selectedAppointment={doctorName:"",appointmentDate:new Date,appointmentTime:"",clinicName:"",status:"pending",appointmentStatus:"Accepted"},this.isEditing=!1,this.doctors=["Dr. Arjun Mehta","Dr. Priya Sharma","Dr. Rahul Desai"],this.clinics=["Apollo Clinic","Fortis Hospital","Max Healthcare"]}ngOnInit(){this.initializeForm(),this.loadDummyData()}initializeForm(){this.appointmentForm=this.fb.group({doctorName:[""],appointmentDate:[""],appointmentTime:[""],clinicName:[""]})}loadDummyData(){this.pendingAppointments=[{doctorName:"Dr. Arjun Mehta",appointmentDate:new Date("2024-08-01"),appointmentTime:"10:00 AM",clinicName:"Apollo Clinic",status:"pending",appointmentStatus:"Accepted"},{doctorName:"Dr. Priya Sharma",appointmentDate:new Date("2024-07-15"),appointmentTime:"02:00 PM",clinicName:"Fortis Hospital",status:"pending",appointmentStatus:"Pending"},{doctorName:"Dr. Rahul Desai",appointmentDate:new Date("2024-08-05"),appointmentTime:"11:30 AM",clinicName:"Max Healthcare",status:"pending",proposedNewDate:new Date,proposedNewTime:"10:30 am",appointmentStatus:"New Time Proposed"}],this.pastAppointments=[{doctorName:"Dr. Arjun Mehta",appointmentDate:new Date("2024-08-01"),appointmentTime:"10:00 AM",clinicName:"Apollo Clinic",status:"past",appointmentStatus:"Accepted"},{doctorName:"Dr. Priya Sharma",appointmentDate:new Date("2024-07-15"),appointmentTime:"02:00 PM",clinicName:"Fortis Hospital",status:"past",appointmentStatus:"Accepted"}],this.cancelledAppointments=[{doctorName:"Dr. Rahul Desai",appointmentDate:new Date("2024-08-05"),appointmentTime:"11:30 AM",clinicName:"Max Healthcare",cancelledBy:"doctor",reason:"Appointment full",status:"cancelled",appointmentStatus:"Cancelled"}],this.filteredAppointments=[...this.pendingAppointments]}filterAppointments(e){e==="pending"?this.filteredAppointments=[...this.pendingAppointments]:e==="past"?this.filteredAppointments=[...this.pastAppointments]:e==="cancelled"&&(this.filteredAppointments=[...this.cancelledAppointments])}scheduleNewAppointment(){this.isEditing=!1,this.appointmentForm.reset(),this.appointmentModal&&new v(this.appointmentModal.nativeElement).show()}saveAppointment(){if(this.isEditing?Object.assign(this.selectedAppointment,this.appointmentForm.value):this.pendingAppointments.push(J(j({},this.appointmentForm.value),{status:"pending"})),this.filterAppointments("pending"),this.appointmentModal){let e=v.getInstance(this.appointmentModal.nativeElement);e&&e.hide()}}editAppointment(e){this.isEditing=!0,this.selectedAppointment=e,this.appointmentForm.patchValue(e),this.appointmentModal&&new v(this.appointmentModal.nativeElement).show()}deleteAppointment(e){this.pendingAppointments=this.pendingAppointments.filter(a=>a!==e),this.filterAppointments("pending")}openCancelModal(e){this.selectedAppointment=e,this.cancelModal&&new v(this.cancelModal.nativeElement).show()}cancelAppointment(e){if(this.selectedAppointment&&(this.selectedAppointment.status="cancelled",this.selectedAppointment.reason=e,this.selectedAppointment.cancelledBy="patient",this.cancelledAppointments.push(this.selectedAppointment),this.pendingAppointments=this.pendingAppointments.filter(a=>a!==this.selectedAppointment),this.filterAppointments("pending"),this.cancelModal)){let a=v.getInstance(this.cancelModal.nativeElement);a&&a.hide()}}openInfoModal(e){this.selectedAppointment=e,this.infoModal&&new v(this.infoModal.nativeElement).show()}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-appointments"]],viewQuery:function(a,o){if(a&1&&(w(Ye,5),w(Ue,5),w(Je,5)),a&2){let r;x(r=S())&&(o.appointmentModal=r.first),x(r=S())&&(o.infoModal=r.first),x(r=S())&&(o.cancelModal=r.first)}},decls:34,vars:4,consts:[[1,"container"],[1,"animated-heading"],[1,"bi","bi-calendar-check","me-2"],[1,"btn","btn-primary","mb-3",3,"click"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link","active",3,"click"],[1,"nav-link",3,"click"],[1,"table-responsive","mt-3"],[1,"table","table-hover","table-modern"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","btn btn-primary btn-sm me-1","ngbTooltip","Accept/Reject new time",3,"click",4,"ngIf"],["ngbTooltip","Cancel appointment",1,"btn","btn-danger","btn-sm","me-1",3,"click"],[1,"bi","bi-x-circle"],["ngbTooltip","Accept/Reject new time",1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-info-circle"]],template:function(a,o){a&1&&(i(0,"div",0)(1,"h1",1),s(2,"i",2),n(3,"Manage Appointments "),t(),i(4,"button",3),p("click",function(){return o.scheduleNewAppointment()}),n(5,"Schedule New Appointment"),t(),i(6,"ul",4)(7,"li",5)(8,"a",6),p("click",function(){return o.filterAppointments("pending")}),n(9,"Pending"),t()(),i(10,"li",5)(11,"a",7),p("click",function(){return o.filterAppointments("past")}),n(12,"Past Appointments"),t()(),i(13,"li",5)(14,"a",7),p("click",function(){return o.filterAppointments("cancelled")}),n(15,"Cancelled Appointments"),t()()(),i(16,"div",8)(17,"table",9)(18,"thead")(19,"tr")(20,"th"),n(21,"Doctor Name"),t(),i(22,"th"),n(23,"Appointment Date"),t(),i(24,"th"),n(25,"Appointment Time"),t(),i(26,"th"),n(27,"Clinic Name"),t(),i(28,"th"),n(29,"Status"),t(),_(30,Ke,2,0,"th",10)(31,Ze,2,0,"th",10)(32,et,2,0,"th",10),t()(),_(33,rt,2,1,"tbody",10),t()()()),a&2&&(m(30),h("ngIf",(o.filteredAppointments[0]==null?null:o.filteredAppointments[0].status)==="pending"),m(),h("ngIf",(o.filteredAppointments[0]==null?null:o.filteredAppointments[0].status)==="cancelled"),m(),h("ngIf",(o.filteredAppointments[0]==null?null:o.filteredAppointments[0].status)==="cancelled"),m(),h("ngIf",o.filteredAppointments&&o.filteredAppointments.length>0))},dependencies:[pe,W,M,me,R]})}}return l})();var lt=["activityModal"],mt=["editDetailsModal"],st=(l,b,e,a)=>({"bg-success":l,"bg-danger":b,"bg-warning":e,"bg-info":a}),dt=(l,b)=>({"text-success":l,"text-danger":b});function ct(l,b){if(l&1&&(i(0,"li"),n(1),t()),l&2){let e=b.$implicit;m(),_e("",e.mealType," - ",e.name,": ",e.calories," kcal")}}function pt(l,b){if(l&1&&(i(0,"li"),n(1),t()),l&2){let e=b.$implicit;m(),_e("",e.timeOfDay," - ",e.name,": ",e.caloriesBurnt," kcal")}}function ut(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td")(5,"ul",76),_(6,ct,2,3,"li",36),t()(),i(7,"td"),n(8),t(),i(9,"td")(10,"ul",76),_(11,pt,2,3,"li",36),t()(),i(12,"td"),n(13),t(),i(14,"td",77),n(15),t(),i(16,"td"),n(17),t(),i(18,"td")(19,"button",78),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editActivity(o))}),s(20,"i",79),t(),i(21,"button",80),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteActivity(o))}),s(22,"i",81),t()()()}if(l&2){let e=b.$implicit;m(2),f(k(3,9,e.date,"dd-MM-yyyy")),m(4),h("ngForOf",e.foodDetails),m(2),f(e.totalCalories),m(3),h("ngForOf",e.exerciseDetails),m(2),f(e.caloriesBurnt),m(),h("ngClass",ie(12,dt,e.totalGainLoss<0,e.totalGainLoss>0)),m(),X(" ",e.totalGainLoss>0?"+":"","",e.totalGainLoss," "),m(2),f(e.comment)}}function ft(l,b){if(l&1&&(i(0,"option",99),n(1),t()),l&2){let e=b.$implicit;h("value",e.name),m(),f(e.name)}}function ht(l,b){if(l&1){let e=g();i(0,"div")(1,"div",82)(2,"div",83)(3,"label",84),n(4,"Meal Type"),t(),i(5,"select",85)(6,"option",86),n(7,"Breakfast"),t(),i(8,"option",87),n(9,"Lunch"),t(),i(10,"option",88),n(11,"Dinner"),t(),i(12,"option",60),n(13,"Other"),t()()(),i(14,"div",89)(15,"label",90),n(16,"Food Item"),t(),i(17,"select",85),_(18,ft,2,2,"option",91),t()(),i(19,"div",92)(20,"label",93),n(21,"Quantity (g)"),t(),i(22,"input",94),p("change",function(){d(e);let o=y();return c(o.calculateCaloriesConsumed())}),t()(),i(23,"div",92)(24,"label",95),n(25,"Calories"),t(),s(26,"input",96),t(),i(27,"div",97)(28,"button",98),p("click",function(){let o=d(e).index,r=y();return c(r.removeMeal(o))}),n(29,"x"),t()()()()}if(l&2){let e=b.index,a=y();m(5),h("formControlName","mealType"+e),m(12),h("formControlName","food"+e),m(),h("ngForOf",a.foodItems),m(4),h("formControlName","quantity"+e),m(4),h("value",a.calculateFoodCalories(e))}}function bt(l,b){if(l&1&&(i(0,"option",99),n(1),t()),l&2){let e=b.$implicit;h("value",e.name),m(),f(e.name)}}function yt(l,b){if(l&1){let e=g();i(0,"div")(1,"div",82)(2,"div",83)(3,"label",100),n(4,"Time of Day"),t(),i(5,"select",85)(6,"option",101),n(7,"Morning"),t(),i(8,"option",102),n(9,"Afternoon"),t(),i(10,"option",103),n(11,"Evening"),t(),i(12,"option",60),n(13,"Other"),t()()(),i(14,"div",89)(15,"label",104),n(16,"Exercise"),t(),i(17,"select",85),_(18,bt,2,2,"option",91),t()(),i(19,"div",92)(20,"label",105),n(21,"Duration (minutes)"),t(),i(22,"input",94),p("change",function(){d(e);let o=y();return c(o.calculateCaloriesBurnt())}),t()(),i(23,"div",92)(24,"label",106),n(25,"Calories Burnt"),t(),s(26,"input",96),t(),i(27,"div",97)(28,"button",98),p("click",function(){let o=d(e).index,r=y();return c(r.removeExercise(o))}),n(29,"x"),t()()()()}if(l&2){let e=b.index,a=y();m(5),h("formControlName","timeOfDay"+e),m(12),h("formControlName","exercise"+e),m(),h("ngForOf",a.exerciseItems),m(4),h("formControlName","duration"+e),m(4),h("value",a.calculateExerciseCalories(e))}}var Le=(()=>{class l{constructor(e){this.fb=e,this.dailyActivities=[],this.isEditMode=!1,this.editIndex=null,this.foodItems=[{name:"Rice",calories:130,mealType:""},{name:"Chapati",calories:70,mealType:""},{name:"Dal",calories:120,mealType:""},{name:"Chicken Curry",calories:210,mealType:""},{name:"Paneer",calories:290,mealType:""},{name:"Roti",calories:80,mealType:""},{name:"Idli",calories:58,mealType:""},{name:"Dosa",calories:168,mealType:""},{name:"Samosa",calories:262,mealType:""},{name:"Gulab Jamun",calories:150,mealType:""}],this.exerciseItems=[{name:"Running",caloriesBurnt:10,timeOfDay:""},{name:"Cycling",caloriesBurnt:15,timeOfDay:""},{name:"Swimming",caloriesBurnt:20,timeOfDay:""},{name:"Yoga",caloriesBurnt:4,timeOfDay:""},{name:"Weight Lifting",caloriesBurnt:6,timeOfDay:""},{name:"Walking",caloriesBurnt:5,timeOfDay:""},{name:"Skipping",caloriesBurnt:12,timeOfDay:""},{name:"Dancing",caloriesBurnt:7,timeOfDay:""},{name:"Aerobics",caloriesBurnt:9,timeOfDay:""},{name:"Basketball",caloriesBurnt:10,timeOfDay:""}],this.meals=["Breakfast","Lunch","Dinner"],this.exercises=["Exercise"]}ngOnInit(){this.activityForm=this.fb.group({date:[""]}),this.editForm=this.fb.group({weight:[this.weight],height:[this.height],age:[this.age],gender:[this.gender],occupation:[this.occupation],lifestyle:[this.lifestyle]}),this.meals.forEach((e,a)=>{this.addMealControls(a)}),this.exercises.forEach((e,a)=>{this.addExerciseControls(a)}),this.loadDummyData(),this.calculateBMI()}loadDummyData(){this.dailyActivities=[{date:new Date("2024-08-01"),foodDetails:[{mealType:"Breakfast",name:"Rice",calories:200},{mealType:"Lunch",name:"Dal",calories:150}],totalCalories:350,exerciseDetails:[{timeOfDay:"Morning",name:"Running",caloriesBurnt:200},{timeOfDay:"Evening",name:"Yoga",caloriesBurnt:100}],caloriesBurnt:300,totalGainLoss:50,comment:"Great job! Keep it up!"},{date:new Date("2024-08-02"),foodDetails:[{mealType:"Lunch",name:"Chapati",calories:150},{mealType:"Dinner",name:"Paneer",calories:250}],totalCalories:400,exerciseDetails:[{timeOfDay:"Morning",name:"Cycling",caloriesBurnt:300},{timeOfDay:"Afternoon",name:"Swimming",caloriesBurnt:200}],caloriesBurnt:500,totalGainLoss:-100,comment:"You are on the right track!"},{date:new Date("2024-08-03"),foodDetails:[{mealType:"Breakfast",name:"Dosa",calories:200},{mealType:"Lunch",name:"Samosa",calories:300}],totalCalories:500,exerciseDetails:[{timeOfDay:"Afternoon",name:"Walking",caloriesBurnt:150}],caloriesBurnt:150,totalGainLoss:350,comment:"You need to burn more calories! Consider more intense exercises."},{date:new Date("2024-08-04"),foodDetails:[{mealType:"Breakfast",name:"Idli",calories:120},{mealType:"Lunch",name:"Paneer",calories:200},{mealType:"Dinner",name:"Chapati",calories:150}],totalCalories:470,exerciseDetails:[{timeOfDay:"Morning",name:"Running",caloriesBurnt:300},{timeOfDay:"Evening",name:"Weight Lifting",caloriesBurnt:100}],caloriesBurnt:400,totalGainLoss:70,comment:"Good effort! Keep working towards your goal!"},{date:new Date("2024-08-05"),foodDetails:[{mealType:"Lunch",name:"Roti",calories:180},{mealType:"Dinner",name:"Chicken Curry",calories:250}],totalCalories:430,exerciseDetails:[{timeOfDay:"Morning",name:"Skipping",caloriesBurnt:350},{timeOfDay:"Evening",name:"Yoga",caloriesBurnt:100}],caloriesBurnt:450,totalGainLoss:-20,comment:"Excellent balance! You\u2019re making great progress!"},{date:new Date("2024-08-06"),foodDetails:[{mealType:"Lunch",name:"Rice",calories:220},{mealType:"Dinner",name:"Gulab Jamun",calories:150}],totalCalories:370,exerciseDetails:[{timeOfDay:"Afternoon",name:"Swimming",caloriesBurnt:300}],caloriesBurnt:300,totalGainLoss:70,comment:"Almost there! Try to include a bit more exercise next time."},{date:new Date("2024-08-07"),foodDetails:[{mealType:"Breakfast",name:"Paneer",calories:200},{mealType:"Lunch",name:"Dal",calories:150}],totalCalories:350,exerciseDetails:[{timeOfDay:"Morning",name:"Aerobics",caloriesBurnt:250},{timeOfDay:"Evening",name:"Dancing",caloriesBurnt:150}],caloriesBurnt:400,totalGainLoss:-50,comment:"Fantastic! You\u2019re ahead of your goal!"}]}addDailyActivity(){this.activityForm.reset(),this.isEditMode=!1,this.editIndex=null,this.meals=[],this.exercises=[],this.activityForm=this.fb.group({date:[""]}),this.addMeal(),this.addExercise(),new v(this.activityModal.nativeElement).show()}openEditPopup(){new v(this.editDetailsModal.nativeElement).show()}addMealControls(e){this.activityForm.addControl("mealType"+e,new U("")),this.activityForm.addControl("food"+e,new U("")),this.activityForm.addControl("quantity"+e,new U(""))}addExerciseControls(e){this.activityForm.addControl("timeOfDay"+e,new U("")),this.activityForm.addControl("exercise"+e,new U("")),this.activityForm.addControl("duration"+e,new U(""))}addMeal(){let e=this.meals.length;this.meals.push("Meal "+(e+1)),this.addMealControls(e)}removeMeal(e){this.meals.splice(e,1),this.activityForm.removeControl("mealType"+e),this.activityForm.removeControl("food"+e),this.activityForm.removeControl("quantity"+e)}addExercise(){let e=this.exercises.length;this.exercises.push("Exercise "+(e+1)),this.addExerciseControls(e)}removeExercise(e){this.exercises.splice(e,1),this.activityForm.removeControl("timeOfDay"+e),this.activityForm.removeControl("exercise"+e),this.activityForm.removeControl("duration"+e)}calculateCaloriesConsumed(){let e=0;this.meals.forEach((a,o)=>{let r=this.foodItems.find(C=>C.name===this.activityForm.get("food"+o)?.value),u=this.activityForm.get("quantity"+o)?.value;r&&u&&(e+=r.calories*u/100)}),this.activityForm.patchValue({totalCalories:e})}calculateCaloriesBurnt(){let e=0;this.exercises.forEach((a,o)=>{let r=this.exerciseItems.find(C=>C.name===this.activityForm.get("exercise"+o)?.value),u=this.activityForm.get("duration"+o)?.value;r&&u&&(e+=r.caloriesBurnt*u)}),this.activityForm.patchValue({totalCaloriesBurnt:e})}calculateFoodCalories(e){let a=this.foodItems.find(r=>r.name===this.activityForm.get("food"+e)?.value),o=this.activityForm.get("quantity"+e)?.value;return a&&o?a.calories*o/100:0}calculateExerciseCalories(e){let a=this.exerciseItems.find(r=>r.name===this.activityForm.get("exercise"+e)?.value),o=this.activityForm.get("duration"+e)?.value;return a&&o?a.caloriesBurnt*o:0}saveActivity(){let e=this.activityForm.value,a=this.meals.map((oe,Q)=>({mealType:this.activityForm.get("mealType"+Q)?.value,name:this.activityForm.get("food"+Q)?.value,calories:this.calculateFoodCalories(Q)})),o=this.exercises.map((oe,Q)=>({timeOfDay:this.activityForm.get("timeOfDay"+Q)?.value,name:this.activityForm.get("exercise"+Q)?.value,caloriesBurnt:this.calculateExerciseCalories(Q)})),r=a.reduce((oe,Q)=>oe+Q.calories,0),u=o.reduce((oe,Q)=>oe+Q.caloriesBurnt,0),C={date:e.date,foodDetails:a,totalCalories:r,exerciseDetails:o,caloriesBurnt:u,totalGainLoss:r-u,comment:this.getComment(r-u)};this.isEditMode&&this.editIndex!==null?this.dailyActivities[this.editIndex]=C:this.dailyActivities.push(C);let we=v.getInstance(this.activityModal.nativeElement);we&&we.hide()}getComment(e){return e<0?"Great job! Keep it up!":e>0?"You need to burn more calories!":"Maintain your current routine!"}editActivity(e){this.isEditMode=!0,this.editIndex=this.dailyActivities.indexOf(e),this.activityForm.patchValue(e),this.meals.forEach((o,r)=>{this.activityForm.contains("food"+r)||this.addMealControls(r)}),this.exercises.forEach((o,r)=>{this.activityForm.contains("exercise"+r)||this.addExerciseControls(r)}),new v(this.activityModal.nativeElement).show()}deleteActivity(e){let a=this.dailyActivities.indexOf(e);a>-1&&this.dailyActivities.splice(a,1)}calculateBMI(){if(this.height&&this.weight){let e=this.height/100;this.bmi=this.weight/(e*e)}}saveDetails(){let e=this.editForm.value;this.weight=e.weight,this.height=e.height,this.age=e.age,this.gender=e.gender,this.occupation=e.occupation,this.lifestyle=e.lifestyle,this.calculateBMI();let a=v.getInstance(this.editDetailsModal.nativeElement);a&&a.hide()}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-daily-activity"]],viewQuery:function(a,o){if(a&1&&(w(lt,5),w(mt,5)),a&2){let r;x(r=S())&&(o.activityModal=r.first),x(r=S())&&(o.editDetailsModal=r.first)}},decls:179,vars:23,consts:[["editDetailsModal",""],["activityModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-calendar-heart","me-2"],[1,"row","justify-content-center"],[1,"col","card","shadow-sm","fade-in","bg-dark"],[1,"card-header","text-center"],[1,"card-body"],[1,"row"],[1,"col","mb-3"],[1,"bi","bi-gender-ambiguous","me-2"],[1,"bi","bi-calendar","me-2"],[1,"bi","bi-rulers","me-2"],[1,"bi","bi-weight","me-2"],[1,"bi","bi-briefcase","me-2"],[1,"bi","bi-activity","me-2"],[1,"card-footer"],[1,"text-center"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"col","card","small","shadow-lg","bmi-scoreboard","p-4","text-center",3,"ngClass"],[1,"card-header","bg-white"],[1,"legend"],[1,"badge","bg-success"],[1,"badge","bg-warning"],[1,"badge","bg-danger"],[1,"bmi-icon","mb-3"],[1,"bi","bi-calculator"],[1,"bmi-value"],[1,"bmi-label"],[1,"row","mb-4"],[1,"row","mb-3","align-items-center"],[1,"col-md-4","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[4,"ngFor","ngForOf"],["id","editDetailsModal","tabindex","-1","aria-labelledby","editDetailsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","editDetailsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","weight",1,"form-label","label-modern","shadow"],[1,"bi","bi-weight"],["type","number","id","weight","formControlName","weight",1,"form-control"],["for","height",1,"form-label","label-modern","shadow"],[1,"bi","bi-rulers"],["type","number","id","height","formControlName","height",1,"form-control"],["for","age",1,"form-label","label-modern","shadow"],[1,"bi","bi-calendar"],["type","number","id","age","formControlName","age",1,"form-control"],["for","gender",1,"form-label","label-modern","shadow"],[1,"bi","bi-gender-ambiguous"],["id","gender","formControlName","gender",1,"form-select"],["value","Male"],["value","Female"],["value","Other"],["for","occupation",1,"form-label","label-modern","shadow"],[1,"bi","bi-briefcase"],["type","text","id","occupation","formControlName","occupation",1,"form-control"],["for","lifestyle",1,"form-label","label-modern","shadow"],[1,"bi","bi-activity"],["type","text","id","lifestyle","formControlName","lifestyle",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["id","activityModal","tabindex","-1","aria-labelledby","activityModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],["id","activityModalLabel",1,"modal-title"],["for","date",1,"form-label","label-modern","shadow"],["type","date","id","date","formControlName","date",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"list-unstyled"],[3,"ngClass"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"row","mb-2"],[1,"col-md-3"],["for","mealType"],[1,"form-select",3,"formControlName"],["value","Breakfast"],["value","Lunch"],["value","Dinner"],[1,"col-md-4"],["for","food"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2"],["for","quantity"],["type","number",1,"form-control",3,"change","formControlName"],["for","calories"],["type","text","readonly","",1,"form-control",3,"value"],[1,"col-md-1","d-flex","align-items-end"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[3,"value"],["for","timeOfDay"],["value","Morning"],["value","Afternoon"],["value","Evening"],["for","exercise"],["for","duration"],["for","caloriesBurnt"]],template:function(a,o){if(a&1){let r=g();i(0,"div",2)(1,"h1",3),s(2,"i",4),n(3,"Daily Activity "),t(),i(4,"div",5)(5,"div",6)(6,"div",7)(7,"h6"),n(8,"User Info"),t()(),i(9,"div",8)(10,"div",9)(11,"div",10)(12,"h6"),s(13,"i",11),n(14,"Gender: "),i(15,"span"),n(16),t()()(),i(17,"div",10)(18,"h6"),s(19,"i",12),n(20,"Age: "),i(21,"span"),n(22),t()()()(),i(23,"div",9)(24,"div",10)(25,"h6"),s(26,"i",13),n(27,"Height: "),i(28,"span"),n(29),t()()(),i(30,"div",10)(31,"h6"),s(32,"i",14),n(33,"Weight: "),i(34,"span"),n(35),t()()()(),i(36,"div",9)(37,"div",10)(38,"h6"),s(39,"i",15),n(40,"Occupation: "),i(41,"span"),n(42),t()()(),i(43,"div",10)(44,"h6"),s(45,"i",16),n(46,"Lifestyle: "),i(47,"span"),n(48),t()()()()(),i(49,"div",17)(50,"div",18)(51,"button",19),p("click",function(){return d(r),c(o.openEditPopup())}),n(52,"Edit Details"),t()()()(),i(53,"div",20)(54,"div",21)(55,"div",22)(56,"span",23),n(57,"Normal (18.5 - 24.9)"),t(),i(58,"span",24),n(59,"Overweight (25 - 29.9) / Underweight (10 - 18.4)"),t(),i(60,"span",25),n(61,"Obese (> 30) / Severely Underweight (< 10)"),t()()(),i(62,"div",8)(63,"div",26),s(64,"i",27),t(),i(65,"h2",28),n(66),T(67,"number"),t(),i(68,"p",29),n(69,"BMI"),t()()()()(),i(70,"div",30)(71,"div",31)(72,"div",32)(73,"button",33),p("click",function(){return d(r),c(o.addDailyActivity())}),n(74,"Add Daily Activity"),t()()(),i(75,"div",34)(76,"table",35)(77,"thead")(78,"tr")(79,"th"),n(80,"Date"),t(),i(81,"th"),n(82,"Calories Consumed"),t(),i(83,"th"),n(84,"Total Calories"),t(),i(85,"th"),n(86,"Calories Burnt"),t(),i(87,"th"),n(88,"Total Burnt"),t(),i(89,"th"),n(90,"Total Gain/Loss"),t(),i(91,"th"),n(92,"Comment"),t(),i(93,"th"),n(94,"Action"),t()()(),i(95,"tbody"),_(96,ut,23,15,"tr",36),t()()()(),i(97,"div",37,0)(99,"div",38)(100,"div",39)(101,"div",40)(102,"h5",41),n(103,"Edit User Details"),t(),s(104,"button",42),t(),i(105,"div",43)(106,"form",44)(107,"div",45)(108,"label",46),s(109,"i",47),n(110," Weight (kg)"),t(),s(111,"input",48),t(),i(112,"div",45)(113,"label",49),s(114,"i",50),n(115," Height (cm)"),t(),s(116,"input",51),t(),i(117,"div",45)(118,"label",52),s(119,"i",53),n(120," Age"),t(),s(121,"input",54),t(),i(122,"div",45)(123,"label",55),s(124,"i",56),n(125," Gender"),t(),i(126,"select",57)(127,"option",58),n(128,"Male"),t(),i(129,"option",59),n(130,"Female"),t(),i(131,"option",60),n(132,"Other"),t()()(),i(133,"div",45)(134,"label",61),s(135,"i",62),n(136," Occupation"),t(),s(137,"input",63),t(),i(138,"div",45)(139,"label",64),s(140,"i",65),n(141," Lifestyle"),t(),s(142,"input",66),t()()(),i(143,"div",67)(144,"button",68),n(145,"Close"),t(),i(146,"button",69),p("click",function(){return d(r),c(o.saveDetails())}),n(147,"Save Changes"),t()()()()(),i(148,"div",70,1)(150,"div",71)(151,"div",39)(152,"div",40)(153,"h5",72),n(154),t(),s(155,"button",42),t(),i(156,"div",43)(157,"form",44)(158,"div",45)(159,"label",73),n(160,"Date"),t(),s(161,"input",74),t(),i(162,"div",45)(163,"h5"),n(164,"Calories Consumed"),t(),_(165,ht,30,5,"div",36),i(166,"button",75),p("click",function(){return d(r),c(o.addMeal())}),n(167,"Add Meal"),t()(),i(168,"div",45)(169,"h5"),n(170,"Activity"),t(),_(171,yt,30,5,"div",36),i(172,"button",75),p("click",function(){return d(r),c(o.addExercise())}),n(173,"Add Activity"),t()()()(),i(174,"div",67)(175,"button",68),n(176,"Close"),t(),i(177,"button",69),p("click",function(){return d(r),c(o.saveActivity())}),n(178),t()()()()()}a&2&&(m(16),f(o.gender),m(6),f(o.age),m(7),A("",o.height," cm"),m(6),A("",o.weight," kg"),m(7),f(o.occupation),m(6),f(o.lifestyle),m(5),h("ngClass",Ee(18,st,o.bmi>18.4&&o.bmi<25,o.bmi>30||o.bmi<10,o.bmi>25&&o.bmi<30||o.bmi<18.5&&o.bmi>10,!o.bmi)),m(13),f(k(67,15,o.bmi,"1.2-2")),m(30),h("ngForOf",o.dailyActivities),m(10),h("formGroup",o.editForm),m(48),f(o.isEditMode?"Edit Daily Activity":"Add Daily Activity"),m(3),h("formGroup",o.activityForm),m(8),h("ngForOf",o.meals),m(6),h("ngForOf",o.exercises),m(7),f(o.isEditMode?"Save Changes":"Add Activity"))},dependencies:[W,M,O,G,H,F,ce,z,I,N,P,L,Me,R],styles:[".user-details-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;font-size:1rem;color:#333}.user-details-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:500;margin:0;font-size:1.2rem}.user-details-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#007bff}.bmi-scoreboard[_ngcontent-%COMP%]{border-radius:12px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;position:relative}.bmi-icon[_ngcontent-%COMP%]{font-size:3.5rem}.bmi-value[_ngcontent-%COMP%]{color:#3f29abe1!important;font-size:3.5rem;font-weight:700;margin:0}.bmi-label[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;letter-spacing:1px;margin-top:10px}"]})}}return l})();var vt=["immunizationModal"];function _t(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),t(),i(10,"td"),n(11),t(),i(12,"td"),n(13),t(),i(14,"td")(15,"button",36),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editImmunization(o))}),s(16,"i",37),t(),i(17,"button",38),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteImmunization(o))}),s(18,"i",39),t()()()}if(l&2){let e=b.$implicit;m(2),f(k(3,6,e.dateOfAdministration,"dd-MM-yyyy")),m(3),f(e.vaccineName),m(2),f(e.preventableDisease),m(2),f(e.routeOfAdministration),m(2),f(e.dosageForm),m(2),f(e.dosageDetails)}}function gt(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}function Ct(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}function wt(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}function xt(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}var fe=(()=>{class l{constructor(e){this.fb=e,this.immunizationRecords=[],this.isEditMode=!1,this.editIndex=null,this.vaccines=["COVID-19 Vaccine","Hepatitis B Vaccine","Influenza Vaccine","Polio Vaccine","Tetanus Vaccine"],this.preventableDiseases=["COVID-19","Hepatitis B","Influenza","Polio","Tetanus"],this.routesOfAdministration=["Intramuscular","Subcutaneous","Oral","Intranasal"],this.dosageDetails=["Single Dose","Two Doses","Booster","Three Doses"]}ngOnInit(){this.immunizationForm=this.fb.group({dateOfAdministration:[""],vaccineName:[""],preventableDisease:[""],routeOfAdministration:[""],dosageForm:[""],dosageDetails:[""]}),this.loadDummyData()}loadDummyData(){this.immunizationRecords=[{dateOfAdministration:new Date("2024-08-01"),vaccineName:"COVID-19 Vaccine",preventableDisease:"COVID-19",routeOfAdministration:"Intramuscular",dosageForm:"Injection",dosageDetails:"Two Doses"},{dateOfAdministration:new Date("2024-07-15"),vaccineName:"Hepatitis B Vaccine",preventableDisease:"Hepatitis B",routeOfAdministration:"Intramuscular",dosageForm:"Injection",dosageDetails:"Three Doses"},{dateOfAdministration:new Date("2024-07-10"),vaccineName:"Influenza Vaccine",preventableDisease:"Influenza",routeOfAdministration:"Intranasal",dosageForm:"Spray",dosageDetails:"Single Dose"},{dateOfAdministration:new Date("2024-06-20"),vaccineName:"Polio Vaccine",preventableDisease:"Polio",routeOfAdministration:"Oral",dosageForm:"Drops",dosageDetails:"Booster"},{dateOfAdministration:new Date("2024-06-05"),vaccineName:"Tetanus Vaccine",preventableDisease:"Tetanus",routeOfAdministration:"Intramuscular",dosageForm:"Injection",dosageDetails:"Single Dose"}]}addImmunization(){this.immunizationForm.reset(),this.isEditMode=!1,this.editIndex=null,new v(this.immunizationModal.nativeElement).show()}saveImmunization(){let e=this.immunizationForm.value;this.isEditMode&&this.editIndex!==null?this.immunizationRecords[this.editIndex]=e:this.immunizationRecords.push(e);let a=v.getInstance(this.immunizationModal.nativeElement);a&&a.hide()}editImmunization(e){this.isEditMode=!0,this.editIndex=this.immunizationRecords.indexOf(e),this.immunizationForm.patchValue(e),new v(this.immunizationModal.nativeElement).show()}deleteImmunization(e){let a=this.immunizationRecords.indexOf(e);a>-1&&this.immunizationRecords.splice(a,1)}sortTable(e){this.immunizationRecords.sort((a,o)=>{let r=a[e]??"",u=o[e]??"";return r<u?-1:r>u?1:0})}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-immunization"]],viewQuery:function(a,o){if(a&1&&w(vt,5),a&2){let r;x(r=S())&&(o.immunizationModal=r.first)}},decls:71,vars:8,consts:[["immunizationModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-shield-virus","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-4","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","immunizationModal","tabindex","-1","aria-labelledby","immunizationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","immunizationModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","dateOfAdministration",1,"form-label","label-modern","shadow"],["type","date","id","dateOfAdministration","formControlName","dateOfAdministration",1,"form-control"],["for","vaccineName",1,"form-label","label-modern","shadow"],["id","vaccineName","formControlName","vaccineName",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","preventableDisease",1,"form-label","label-modern","shadow"],["id","preventableDisease","formControlName","preventableDisease",1,"form-select"],["for","routeOfAdministration",1,"form-label","label-modern","shadow"],["id","routeOfAdministration","formControlName","routeOfAdministration",1,"form-select"],["for","dosageForm",1,"form-label","label-modern","shadow"],["type","text","id","dosageForm","formControlName","dosageForm",1,"form-control"],["for","dosageDetails",1,"form-label","label-modern","shadow"],["id","dosageDetails","formControlName","dosageDetails",1,"form-select"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[3,"value"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"h1",2),s(2,"i",3),n(3,"Immunization Records "),t(),i(4,"div",4)(5,"div",5)(6,"button",6),p("click",function(){return d(r),c(o.addImmunization())}),n(7,"Add Immunization"),t()()(),i(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),p("click",function(){return d(r),c(o.sortTable("dateOfAdministration"))}),n(13,"Date of Administration"),t(),i(14,"th",9),p("click",function(){return d(r),c(o.sortTable("vaccineName"))}),n(15,"Vaccine Name"),t(),i(16,"th",9),p("click",function(){return d(r),c(o.sortTable("preventableDisease"))}),n(17,"Preventable Disease"),t(),i(18,"th",9),p("click",function(){return d(r),c(o.sortTable("routeOfAdministration"))}),n(19,"Route of Administration"),t(),i(20,"th",9),p("click",function(){return d(r),c(o.sortTable("dosageForm"))}),n(21,"Dosage Form"),t(),i(22,"th",9),p("click",function(){return d(r),c(o.sortTable("dosageDetails"))}),n(23,"Dosage Details"),t(),i(24,"th"),n(25,"Action"),t()()(),i(26,"tbody"),_(27,_t,19,9,"tr",10),t()()()(),i(28,"div",11,0)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h5",15),n(34),t(),s(35,"button",16),t(),i(36,"div",17)(37,"form",18)(38,"div",19)(39,"label",20),n(40,"Date of Administration"),t(),s(41,"input",21),t(),i(42,"div",19)(43,"label",22),n(44,"Vaccine Name"),t(),i(45,"select",23),_(46,gt,2,2,"option",24),t()(),i(47,"div",19)(48,"label",25),n(49,"Preventable Disease"),t(),i(50,"select",26),_(51,Ct,2,2,"option",24),t()(),i(52,"div",19)(53,"label",27),n(54,"Route of Administration"),t(),i(55,"select",28),_(56,wt,2,2,"option",24),t()(),i(57,"div",19)(58,"label",29),n(59,"Dosage Form"),t(),s(60,"input",30),t(),i(61,"div",19)(62,"label",31),n(63,"Dosage Details"),t(),i(64,"select",32),_(65,xt,2,2,"option",24),t()()()(),i(66,"div",33)(67,"button",34),n(68,"Close"),t(),i(69,"button",35),p("click",function(){return d(r),c(o.saveImmunization())}),n(70),t()()()()()}a&2&&(m(27),h("ngForOf",o.immunizationRecords),m(7),f(o.isEditMode?"Edit Immunization":"Add Immunization"),m(3),h("formGroup",o.immunizationForm),m(9),h("ngForOf",o.vaccines),m(5),h("ngForOf",o.preventableDiseases),m(5),h("ngForOf",o.routesOfAdministration),m(9),h("ngForOf",o.dosageDetails),m(5),f(o.isEditMode?"Save Changes":"Add Immunization"))},dependencies:[M,O,G,H,F,z,I,N,P,L,R]})}}return l})();var St=["reportModal"];function Et(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),t(),i(10,"td"),n(11),t(),i(12,"td"),n(13),t(),i(14,"td")(15,"button",38),p("click",function(){let o=d(e).index,r=y();return c(r.viewReport(o))}),s(16,"i",39),n(17," View Report "),t()()()}if(l&2){let e=b.$implicit;m(2),f(k(3,6,e.dateOfAssessment,"dd-MM-yyyy")),m(3),f(e.timeOfAssessment),m(2),f(e.typeOfAssessment),m(2),f(e.assessmentParameters),m(2),f(e.results),m(2),f(e.comment)}}function Dt(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}var he=(()=>{class l{constructor(e){this.fb=e,this.investigationReports=[],this.isEditMode=!1,this.editIndex=null,this.assessmentTypes=["Blood Test","X-ray","MRI","CT Scan","Ultrasound"]}ngOnInit(){this.reportForm=this.fb.group({dateOfAssessment:[""],timeOfAssessment:[""],typeOfAssessment:[""],assessmentParameters:[""],results:[""],comment:[""]}),this.loadDummyData()}loadDummyData(){this.investigationReports=[{dateOfAssessment:new Date("2024-08-01"),timeOfAssessment:"10:30 AM",typeOfAssessment:"Blood Test",assessmentParameters:"Hemoglobin, WBC, Platelets",results:"Normal",comment:"No issues found",reportFileName:"1_investigation.pdf"},{dateOfAssessment:new Date("2024-07-20"),timeOfAssessment:"09:00 AM",typeOfAssessment:"X-ray",assessmentParameters:"Chest X-ray",results:"No abnormalities detected",comment:"Normal chest X-ray",reportFileName:"2_investigation.pdf"},{dateOfAssessment:new Date("2024-07-15"),timeOfAssessment:"08:00 AM",typeOfAssessment:"MRI",assessmentParameters:"Brain MRI",results:"No signs of stroke",comment:"Brain MRI is clear",reportFileName:"3_investigation.pdf"},{dateOfAssessment:new Date("2024-07-10"),timeOfAssessment:"02:00 PM",typeOfAssessment:"CT Scan",assessmentParameters:"Abdomen CT Scan",results:"Normal",comment:"No abnormalities detected",reportFileName:"4_investigation.pdf"},{dateOfAssessment:new Date("2024-07-05"),timeOfAssessment:"11:30 AM",typeOfAssessment:"Ultrasound",assessmentParameters:"Pelvic Ultrasound",results:"No issues detected",comment:"Normal ultrasound",reportFileName:"5_investigation.pdf"}]}addReport(){this.reportForm.reset(),this.isEditMode=!1,this.editIndex=null,this.selectedFile=null,new v(this.reportModal.nativeElement).show()}onFileSelected(e){let a=e.target.files[0];a&&a.type==="application/pdf"?this.selectedFile=a:(this.selectedFile=null,alert("Please select a valid PDF file."))}saveReport(){let e=this.reportForm.value;this.isEditMode&&this.editIndex!==null?(this.investigationReports[this.editIndex]=e,this.selectedFile&&(e.reportFileName=`${this.editIndex}_investigation.pdf`,this.saveFile(this.selectedFile,e.reportFileName))):(e.reportFileName=`${this.investigationReports.length}_investigation.pdf`,this.investigationReports.push(e),this.selectedFile&&this.saveFile(this.selectedFile,e.reportFileName));let a=v.getInstance(this.reportModal.nativeElement);a&&a.hide()}saveFile(e,a){let o=`src/assets/investigations/${a}`,r=new FileReader;r.onload=function(){let u=new Blob([r.result],{type:"application/pdf"}),C=document.createElement("a");C.href=window.URL.createObjectURL(u),C.download=a,C.click()},r.readAsArrayBuffer(e)}viewReport(e){let o=`assets/investigations/${this.investigationReports[e].reportFileName}`;window.open(o,"_blank")}sortTable(e){this.investigationReports.sort((a,o)=>{let r=a[e]??"",u=o[e]??"";return r<u?-1:r>u?1:0})}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-investigation-reports"]],viewQuery:function(a,o){if(a&1&&w(St,5),a&2){let r;x(r=S())&&(o.reportModal=r.first)}},decls:72,vars:5,consts:[["reportModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-file-earmark-text","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-4","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","reportModal","tabindex","-1","aria-labelledby","reportModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","reportModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","dateOfAssessment",1,"form-label","label-modern","shadow"],["type","date","id","dateOfAssessment","formControlName","dateOfAssessment",1,"form-control"],["for","timeOfAssessment",1,"form-label","label-modern","shadow"],["type","time","id","timeOfAssessment","formControlName","timeOfAssessment",1,"form-control"],["for","typeOfAssessment",1,"form-label","label-modern","shadow"],["id","typeOfAssessment","formControlName","typeOfAssessment",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","assessmentParameters",1,"form-label","label-modern","shadow"],["type","text","id","assessmentParameters","formControlName","assessmentParameters",1,"form-control"],["for","results",1,"form-label","label-modern","shadow"],["type","text","id","results","formControlName","results",1,"form-control"],["for","comment",1,"form-label","label-modern","shadow"],["type","text","id","comment","formControlName","comment",1,"form-control"],["for","reportFile",1,"form-label","label-modern","shadow"],["type","file","id","reportFile","accept","application/pdf",1,"form-control",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-eye"],[3,"value"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"h1",2),s(2,"i",3),n(3,"Investigation Reports "),t(),i(4,"div",4)(5,"div",5)(6,"button",6),p("click",function(){return d(r),c(o.addReport())}),n(7,"Add Investigation Report"),t()()(),i(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),p("click",function(){return d(r),c(o.sortTable("dateOfAssessment"))}),n(13,"Date of Assessment"),t(),i(14,"th",9),p("click",function(){return d(r),c(o.sortTable("timeOfAssessment"))}),n(15,"Time of Assessment"),t(),i(16,"th",9),p("click",function(){return d(r),c(o.sortTable("typeOfAssessment"))}),n(17,"Type of Assessment"),t(),i(18,"th",9),p("click",function(){return d(r),c(o.sortTable("assessmentParameters"))}),n(19,"Assessment Parameters"),t(),i(20,"th",9),p("click",function(){return d(r),c(o.sortTable("results"))}),n(21,"Results"),t(),i(22,"th",9),p("click",function(){return d(r),c(o.sortTable("comment"))}),n(23,"Comment"),t(),i(24,"th"),n(25,"Action"),t()()(),i(26,"tbody"),_(27,Et,18,9,"tr",10),t()()()(),i(28,"div",11,0)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h5",15),n(34),t(),s(35,"button",16),t(),i(36,"div",17)(37,"form",18)(38,"div",19)(39,"label",20),n(40,"Date of Assessment"),t(),s(41,"input",21),t(),i(42,"div",19)(43,"label",22),n(44,"Time of Assessment"),t(),s(45,"input",23),t(),i(46,"div",19)(47,"label",24),n(48,"Type of Assessment"),t(),i(49,"select",25),_(50,Dt,2,2,"option",26),t()(),i(51,"div",19)(52,"label",27),n(53,"Assessment Parameters"),t(),s(54,"input",28),t(),i(55,"div",19)(56,"label",29),n(57,"Results"),t(),s(58,"input",30),t(),i(59,"div",19)(60,"label",31),n(61,"Comment"),t(),s(62,"input",32),t(),i(63,"div",19)(64,"label",33),n(65,"Upload Report (PDF only)"),t(),i(66,"input",34),p("change",function(C){return d(r),c(o.onFileSelected(C))}),t()()()(),i(67,"div",35)(68,"button",36),n(69,"Close"),t(),i(70,"button",37),p("click",function(){return d(r),c(o.saveReport())}),n(71),t()()()()()}a&2&&(m(27),h("ngForOf",o.investigationReports),m(7),f(o.isEditMode?"Edit Report":"Add Investigation Report"),m(3),h("formGroup",o.reportForm),m(13),h("ngForOf",o.assessmentTypes),m(21),f(o.isEditMode?"Save Changes":"Add Report"))},dependencies:[M,O,G,H,F,z,I,N,P,L,R]})}}return l})();var Mt=["labDataModal"];function Tt(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),T(5,"date"),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),t(),i(10,"td"),n(11),t(),i(12,"td"),n(13),t(),i(14,"td")(15,"button",35),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editLabData(o))}),s(16,"i",36),t(),i(17,"button",37),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteLabData(o))}),s(18,"i",38),t()()()}if(l&2){let e=b.$implicit;m(2),f(e.laboratoryName),m(2),f(k(5,6,e.date,"dd-MM-yyyy")),m(3),f(e.time),m(2),f(e.labTest),m(2),f(e.value),m(2),f(e.unit)}}var be=(()=>{class l{constructor(e){this.fb=e,this.labDataRecords=[],this.isEditMode=!1,this.editIndex=null}ngOnInit(){this.labDataForm=this.fb.group({laboratoryName:[""],date:[""],time:[""],labTest:[""],value:[""],unit:[""]}),this.loadDummyData()}loadDummyData(){this.labDataRecords=[{laboratoryName:"Thyrocare",date:new Date("2024-08-01"),time:"10:30 AM",labTest:"Thyroid Function Test",value:"4.5",unit:"mIU/L"},{laboratoryName:"SRL Diagnostics",date:new Date("2024-07-20"),time:"08:15 AM",labTest:"Complete Blood Count",value:"13.5",unit:"g/dL"},{laboratoryName:"Metropolis Healthcare",date:new Date("2024-07-15"),time:"09:00 AM",labTest:"Lipid Profile",value:"190",unit:"mg/dL"},{laboratoryName:"Dr. Lal Path Labs",date:new Date("2024-07-10"),time:"11:45 AM",labTest:"Liver Function Test",value:"45",unit:"IU/L"},{laboratoryName:"Suburban Diagnostics",date:new Date("2024-06-25"),time:"07:30 AM",labTest:"Blood Sugar Fasting",value:"95",unit:"mg/dL"}]}addLabData(){this.labDataForm.reset(),this.isEditMode=!1,this.editIndex=null,new v(this.labDataModal.nativeElement).show()}saveLabData(){let e=this.labDataForm.value;this.isEditMode&&this.editIndex!==null?this.labDataRecords[this.editIndex]=e:this.labDataRecords.push(e);let a=v.getInstance(this.labDataModal.nativeElement);a&&a.hide()}editLabData(e){this.isEditMode=!0,this.editIndex=this.labDataRecords.indexOf(e),this.labDataForm.patchValue(e),new v(this.labDataModal.nativeElement).show()}deleteLabData(e){let a=this.labDataRecords.indexOf(e);a>-1&&this.labDataRecords.splice(a,1)}sortTable(e){this.labDataRecords.sort((a,o)=>{let r=a[e]??"",u=o[e]??"";return r<u?-1:r>u?1:0})}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-lab-data"]],viewQuery:function(a,o){if(a&1&&w(Mt,5),a&2){let r;x(r=S())&&(o.labDataModal=r.first)}},decls:67,vars:4,consts:[["labDataModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-clipboard-data","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-4","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","labDataModal","tabindex","-1","aria-labelledby","labDataModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","labDataModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","laboratoryName",1,"form-label","label-modern","shadow"],["type","text","id","laboratoryName","formControlName","laboratoryName",1,"form-control"],["for","date",1,"form-label","label-modern","shadow"],["type","date","id","date","formControlName","date",1,"form-control"],["for","time",1,"form-label","label-modern","shadow"],["type","time","id","time","formControlName","time",1,"form-control"],["for","labTest",1,"form-label","label-modern","shadow"],["type","text","id","labTest","formControlName","labTest",1,"form-control"],["for","value",1,"form-label","label-modern","shadow"],["type","text","id","value","formControlName","value",1,"form-control"],["for","unit",1,"form-label","label-modern","shadow"],["type","text","id","unit","formControlName","unit",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"h1",2),s(2,"i",3),n(3,"Lab Data "),t(),i(4,"div",4)(5,"div",5)(6,"button",6),p("click",function(){return d(r),c(o.addLabData())}),n(7,"Add Lab Data"),t()()(),i(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),p("click",function(){return d(r),c(o.sortTable("laboratoryName"))}),n(13,"Laboratory Name"),t(),i(14,"th",9),p("click",function(){return d(r),c(o.sortTable("date"))}),n(15,"Date"),t(),i(16,"th",9),p("click",function(){return d(r),c(o.sortTable("time"))}),n(17,"Time"),t(),i(18,"th",9),p("click",function(){return d(r),c(o.sortTable("labTest"))}),n(19,"Lab Test"),t(),i(20,"th",9),p("click",function(){return d(r),c(o.sortTable("value"))}),n(21,"Value"),t(),i(22,"th",9),p("click",function(){return d(r),c(o.sortTable("unit"))}),n(23,"Unit"),t(),i(24,"th"),n(25,"Action"),t()()(),i(26,"tbody"),_(27,Tt,19,9,"tr",10),t()()()(),i(28,"div",11,0)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h5",15),n(34),t(),s(35,"button",16),t(),i(36,"div",17)(37,"form",18)(38,"div",19)(39,"label",20),n(40,"Laboratory Name"),t(),s(41,"input",21),t(),i(42,"div",19)(43,"label",22),n(44,"Date"),t(),s(45,"input",23),t(),i(46,"div",19)(47,"label",24),n(48,"Time"),t(),s(49,"input",25),t(),i(50,"div",19)(51,"label",26),n(52,"Lab Test"),t(),s(53,"input",27),t(),i(54,"div",19)(55,"label",28),n(56,"Value"),t(),s(57,"input",29),t(),i(58,"div",19)(59,"label",30),n(60,"Unit"),t(),s(61,"input",31),t()()(),i(62,"div",32)(63,"button",33),n(64,"Close"),t(),i(65,"button",34),p("click",function(){return d(r),c(o.saveLabData())}),n(66),t()()()()()}a&2&&(m(27),h("ngForOf",o.labDataRecords),m(7),f(o.isEditMode?"Edit Lab Data":"Add Lab Data"),m(3),h("formGroup",o.labDataForm),m(29),f(o.isEditMode?"Save Changes":"Add Lab Data"))},dependencies:[M,O,F,I,N,P,L,R]})}}return l})();var kt=["reminderModal"],Ft=["medicineInfoModal"],It=["complianceReportModal"],Vt=["reminderPopupModal"],At=["addMedicineModal"],Rt=["pillReminderPopupModal"];function Nt(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td"),n(12),t(),i(13,"td")(14,"button",71),p("click",function(){let o=d(e).$implicit,r=y();return c(r.viewCompliance(o))}),s(15,"i",72),t(),i(16,"button",73),p("click",function(){let o=d(e).$implicit,r=y();return c(r.setReminder(o))}),s(17,"i",74),t(),i(18,"button",75),p("click",function(){let o=d(e).$implicit,r=y();return c(r.viewMedicineInfo(o))}),s(19,"i",76),t(),i(20,"button",77),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editMedicine(o))}),s(21,"i",78),t(),i(22,"button",79),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteMedicine(o))}),s(23,"i",80),t()()()}if(l&2){let e=b.$implicit;m(2),f(e.dosageForm),m(2),f(e.drugName),m(2),f(e.strength),m(2),f(e.frequency),m(2),A("",e.compliancePer,"%"),m(2),A("",e.pillCount," remaining")}}function Ot(l,b){if(l&1&&(i(0,"div",29)(1,"label",81),n(2),t(),s(3,"input",82),t()),l&2){let e=b.index;m(),ve("for","time-",e,""),m(),A("Time ",e+1,""),m(),ve("id","time-",e,""),h("formControlName",e)}}function Pt(l,b){if(l&1&&(i(0,"label",86),s(1,"input",87),n(2),t()),l&2){let e=b.$implicit;m(),h("formControlName","day-"+e),m(),A(" ",e," ")}}function Lt(l,b){if(l&1&&(i(0,"div",29)(1,"label",83),n(2,"Select Days"),t(),i(3,"div",84),_(4,Pt,3,2,"label",85),t()()),l&2){let e=y();m(4),h("ngForOf",e.days)}}function Bt(l,b){l&1&&(i(0,"div",29)(1,"label",88),n(2,"Custom Dates"),t(),s(3,"input",89),t())}function zt(l,b){if(l&1&&(i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t()()),l&2){let e=b.$implicit;m(2),f(k(3,3,e.date,"dd-MM-yyyy")),m(3),f(e.time),m(2),f(e.confirmed?"Yes":"No")}}function Gt(l,b){if(l&1&&(i(0,"div")(1,"table",18)(2,"thead")(3,"tr")(4,"th"),n(5,"Date"),t(),i(6,"th"),n(7,"Time"),t(),i(8,"th"),n(9,"Confirmed"),t()()(),i(10,"tbody"),_(11,zt,8,6,"tr",20),t()()()),l&2){let e=y();m(11),h("ngForOf",e.complianceReports)}}function Ht(l,b){l&1&&(i(0,"p"),n(1,"No compliance records available."),t())}var Be=(()=>{class l{constructor(e){this.fb=e,this.patientCompliances=[],this.complianceReports=[],this.specificDays=!1,this.customDays=!1,this.reminderTimes=[],this.days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.currentReminder=null,this.pillReminder=null,this.editIndex=null}ngOnInit(){this.reminderForm=this.fb.group({frequency:[""],times:this.fb.array([]),howOften:[""],specificDays:[""],customDates:[""],instruction:[""],dosageForm:[""],drugName:[""],strength:[""]}),this.medicineInfoForm=this.fb.group({purchaseDate:[""],unitsPurchased:[""],pillThreshold:[""]}),this.addMedicineForm=this.fb.group({dosageForm:[""],drugName:[""],strength:[""],frequency:[""]}),this.loadDummyData(),this.startPillReminderCheck()}get timesArray(){return this.reminderForm.get("times")}addMedicine(){this.addMedicineForm.reset(),this.editIndex=null,new v(this.addMedicineModal.nativeElement).show()}saveMedicine(){let e=this.addMedicineForm.value;if(this.editIndex!==null)this.patientCompliances[this.editIndex]=j(j({},this.patientCompliances[this.editIndex]),e);else{let o=J(j({},e),{compliancePer:100,pillCount:0});this.patientCompliances.push(o)}this.updateComplianceStatus(),this.updatePillCount();let a=v.getInstance(this.addMedicineModal.nativeElement);a&&a.hide()}editMedicine(e){this.editIndex=this.patientCompliances.indexOf(e),this.addMedicineForm.patchValue(e),new v(this.addMedicineModal.nativeElement).show()}deleteMedicine(e){let a=this.patientCompliances.indexOf(e);a>-1&&this.patientCompliances.splice(a,1)}updateComplianceStatus(){this.patientCompliances.forEach(e=>{let a=this.complianceReports.filter(r=>r.drugName===e.drugName),o=a.filter(r=>r.confirmed).length;e.compliancePer=a.length>0?o/a.length*100:100})}updatePillCount(){this.patientCompliances.forEach(e=>{if(e.medicineInfo){let a=this.complianceReports.filter(o=>o.drugName===e.drugName&&o.confirmed).length;e.pillCount=e.medicineInfo.unitsPurchased-a,e.pillCount<=e.medicineInfo.pillThreshold?this.pillReminder=e:this.pillReminder=null}else e.pillCount=0})}startPillReminderCheck(){setInterval(()=>{this.pillReminder&&this.pillReminder.pillCount<=this.pillReminder.medicineInfo?.pillThreshold&&this.showPillPopup()},3e5)}showPillPopup(){new v(this.pillReminderPopupModal.nativeElement).show()}setReminder(e){this.reminderForm.reset(),this.reminderForm.patchValue({dosageForm:e.dosageForm,drugName:e.drugName,strength:e.strength,frequency:e.reminder?.frequency||"",times:e.reminder?.times||[],howOften:e.reminder?.howOften||"",specificDays:e.reminder?.specificDays||"",customDates:e.reminder?.customDates||"",instruction:e.reminder?.instruction||""}),this.reminderTimes=Array(e.frequency).fill(""),new v(this.reminderModal.nativeElement).show()}viewCompliance(e){let a=this.complianceReports.filter(r=>r.drugName===e.drugName);new v(this.complianceReportModal.nativeElement).show()}viewMedicineInfo(e){this.medicineInfoForm.reset(),e.medicineInfo&&this.medicineInfoForm.patchValue(e.medicineInfo),new v(this.medicineInfoModal.nativeElement).show()}saveReminder(){let e=this.patientCompliances.find(o=>o.reminder===void 0);e&&(e.reminder=this.reminderForm.value),this.schedulePushNotifications(e);let a=v.getInstance(this.reminderModal.nativeElement);a&&a.hide()}saveMedicineInfo(){let e=this.patientCompliances.find(o=>o.medicineInfo===void 0);e&&(e.medicineInfo=this.medicineInfoForm.value,e.pillCount+=e.medicineInfo?.unitsPurchased??0),this.updatePillCount();let a=new v(this.medicineInfoModal.nativeElement);a&&a.hide()}updateReminderRows(){let e=this.reminderForm.get("frequency")?.value,a=this.reminderForm.get("times");a.clear();for(let o=0;o<e;o++)a.push(this.fb.control(""))}onHowOftenChange(e){let a=e.target.value;this.specificDays=a==="specificDays",this.customDays=a==="customDays"}schedulePushNotifications(e){e?.reminder&&e.reminder.times.forEach((a,o)=>{let r=this.calculateNotificationTime(a,e.reminder.howOften),u=new Date,C=r.getTime()-u.getTime();C>0&&setTimeout(()=>{this.showReminderPopup(e.reminder)},C)})}showReminderPopup(e){this.currentReminder=e,new v(this.reminderPopupModal.nativeElement).show()}confirmIntake(e){this.currentReminder&&(this.handleNotificationClick(this.currentReminder,e),this.currentReminder=null);let a=v.getInstance(this.reminderPopupModal.nativeElement);a&&a.hide()}calculateNotificationTime(e,a){let[o,r]=e.split(":").map(Number),u=new Date;return u.setHours(o,r,0,0),a==="alternateDay"&&u.setDate(u.getDate()+1),u}handleNotificationClick(e,a){let o={date:new Date,time:e.times[0],confirmed:a,dosageForm:e.dosageForm,drugName:e.drugName,strength:e.strength};this.complianceReports.push(o),this.updateComplianceStatus(),this.updatePillCount()}loadDummyData(){this.patientCompliances=[{dosageForm:"Tablet",drugName:"Paracetamol",strength:"500mg",frequency:"Twice a day",compliancePer:100,pillCount:15},{dosageForm:"Injection",drugName:"Insulin",strength:"10 IU",frequency:"Once a day",compliancePer:100,pillCount:15}]}sortTable(e){this.patientCompliances.sort((a,o)=>{let r=a[e]??"",u=o[e]??"";return r<u?-1:r>u?1:0})}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-patient-compliance"]],viewQuery:function(a,o){if(a&1&&(w(kt,5),w(Ft,5),w(It,5),w(Vt,5),w(At,5),w(Rt,5)),a&2){let r;x(r=S())&&(o.reminderModal=r.first),x(r=S())&&(o.medicineInfoModal=r.first),x(r=S())&&(o.complianceReportModal=r.first),x(r=S())&&(o.reminderPopupModal=r.first),x(r=S())&&(o.addMedicineModal=r.first),x(r=S())&&(o.pillReminderPopupModal=r.first)}},decls:171,vars:15,consts:[["filterDatePicker","ngbDatepicker"],["reminderModal",""],["medicineInfoModal",""],["complianceReportModal",""],["noReports",""],["pillReminderPopupModal",""],["addMedicineModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-check2-circle","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-8","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"mb-2","me-3"],["for","filterDate",1,"form-label","label-modern","shadow"],["type","text","id","filterDate","ngbDatepicker","","formControlName","filterDate",1,"form-control",3,"click"],[1,"col-md-4","col-sm-6","d-flex","justify-content-end","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","reminderModal","tabindex","-1","aria-labelledby","reminderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","reminderModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["type","text","id","dosageForm","formControlName","dosageForm",1,"form-control",3,"readOnly"],["type","text","id","drugName","formControlName","drugName",1,"form-control",3,"readOnly"],["type","text","id","strength","formControlName","strength",1,"form-control",3,"readOnly"],["for","frequency",1,"form-label","label-modern","shadow"],["type","number","id","frequency","formControlName","frequency",1,"form-control",3,"change"],["formArrayName","times"],["class","mb-3",4,"ngFor","ngForOf"],["for","howOften",1,"form-label","label-modern","shadow"],["id","howOften","formControlName","howOften",1,"form-select",3,"change"],["value","everyDay"],["value","alternateDay"],["value","specificDays"],["value","customDays"],["class","mb-3",4,"ngIf"],["for","instruction",1,"form-label","label-modern","shadow"],["id","instruction","formControlName","instruction",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["id","medicineInfoModal","tabindex","-1","aria-labelledby","medicineInfoModalLabel","aria-hidden","true",1,"modal","fade"],["id","medicineInfoModalLabel",1,"modal-title"],["for","purchaseDate",1,"form-label","label-modern","shadow"],["type","date","id","purchaseDate","formControlName","purchaseDate",1,"form-control"],["for","unitsPurchased",1,"form-label","label-modern","shadow"],["type","number","id","unitsPurchased","formControlName","unitsPurchased",1,"form-control"],["for","pillThreshold",1,"form-label","label-modern","shadow"],["type","number","id","pillThreshold","formControlName","pillThreshold",1,"form-control"],["id","complianceReportModal","tabindex","-1","aria-labelledby","complianceReportModalLabel","aria-hidden","true",1,"modal","fade"],["id","complianceReportModalLabel",1,"modal-title"],[4,"ngIf","ngIfElse"],["id","pillReminderPopupModal","tabindex","-1","aria-labelledby","pillReminderPopupModalLabel","aria-hidden","true",1,"modal","fade"],["id","pillReminderPopupModalLabel",1,"modal-title"],["id","addMedicineModal","tabindex","-1","aria-labelledby","addMedicineModalLabel","aria-hidden","true",1,"modal","fade"],["id","addMedicineModalLabel",1,"modal-title"],["for","dosageForm",1,"form-label","label-modern","shadow"],["type","text","id","dosageForm","formControlName","dosageForm",1,"form-control"],["for","drugName",1,"form-label","label-modern","shadow"],["type","text","id","drugName","formControlName","drugName",1,"form-control"],["for","strength",1,"form-label","label-modern","shadow"],["type","text","id","strength","formControlName","strength",1,"form-control"],["type","text","id","frequency","formControlName","frequency",1,"form-control"],["ngbTooltip","View Compliance","tooltipClass","view-tooltip",1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-eye"],["ngbTooltip","Set Reminder","tooltipClass","reminder-tooltip",1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-alarm"],["ngbTooltip","Medicine Info","tooltipClass","info-tooltip",1,"btn","btn-secondary","btn-sm","me-1",3,"click"],[1,"bi","bi-info-circle"],["ngbTooltip","Edit Medicine","tooltipClass","edit-tooltip",1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],["ngbTooltip","Delete Medicine","tooltipClass","delete-tooltip",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"form-label","label-modern","shadow",3,"for"],["type","time",1,"form-control",3,"id","formControlName"],[1,"form-label","label-modern","shadow"],[1,"d-flex","justify-content-between"],["class","form-check-label",4,"ngFor","ngForOf"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"formControlName"],["for","customDates",1,"form-label","label-modern","shadow"],["type","date","id","customDates","formControlName","customDates",1,"form-control"]],template:function(a,o){if(a&1){let r=g();i(0,"div",7)(1,"h1",8),s(2,"i",9),n(3,"Patient Compliance "),t(),i(4,"div",10)(5,"div",11)(6,"div",12)(7,"label",13),n(8,"Filter by Date"),t(),i(9,"input",14,0),p("click",function(){d(r);let C=Y(10);return c(C.toggle())}),t()()(),i(11,"div",15)(12,"button",16),p("click",function(){return d(r),c(o.addMedicine())}),n(13,"Add Medicine"),t()()(),i(14,"div",17)(15,"table",18)(16,"thead")(17,"tr")(18,"th",19),p("click",function(){return d(r),c(o.sortTable("dosageForm"))}),n(19,"Dosage Form"),t(),i(20,"th",19),p("click",function(){return d(r),c(o.sortTable("drugName"))}),n(21,"Drug Name"),t(),i(22,"th",19),p("click",function(){return d(r),c(o.sortTable("strength"))}),n(23,"Strength"),t(),i(24,"th",19),p("click",function(){return d(r),c(o.sortTable("frequency"))}),n(25,"Frequency"),t(),i(26,"th",19),p("click",function(){return d(r),c(o.sortTable("compliancePer"))}),n(27,"Compliance"),t(),i(28,"th",19),p("click",function(){return d(r),c(o.sortTable("pillCount"))}),n(29,"Pills Counter"),t(),i(30,"th"),n(31,"Action"),t()()(),i(32,"tbody"),_(33,Nt,24,6,"tr",20),t()()()(),i(34,"div",21,1)(36,"div",22)(37,"div",23)(38,"div",24)(39,"h5",25),n(40,"Set Reminder"),t(),s(41,"button",26),t(),i(42,"div",27)(43,"form",28)(44,"div",29),s(45,"input",30),t(),i(46,"div",29),s(47,"input",31),t(),i(48,"div",29),s(49,"input",32),t(),i(50,"div",29)(51,"label",33),n(52,"Frequency"),t(),i(53,"input",34),p("change",function(){return d(r),c(o.updateReminderRows())}),t()(),i(54,"div",35),_(55,Ot,4,6,"div",36),t(),i(56,"div",29)(57,"label",37),n(58,"How Often"),t(),i(59,"select",38),p("change",function(C){return d(r),c(o.onHowOftenChange(C))}),i(60,"option",39),n(61,"Every Day"),t(),i(62,"option",40),n(63,"Every Alternate Day"),t(),i(64,"option",41),n(65,"Specific Days"),t(),i(66,"option",42),n(67,"Custom Days"),t()()(),_(68,Lt,5,1,"div",43)(69,Bt,4,0,"div",43),i(70,"div",29)(71,"label",44),n(72,"Instruction"),t(),s(73,"textarea",45),t()()(),i(74,"div",46)(75,"button",47),n(76,"Close"),t(),i(77,"button",48),p("click",function(){return d(r),c(o.saveReminder())}),n(78,"Save Reminder"),t()()()()(),i(79,"div",49,2)(81,"div",22)(82,"div",23)(83,"div",24)(84,"h5",50),n(85,"Add Medicine Information"),t(),s(86,"button",26),t(),i(87,"div",27)(88,"form",28)(89,"div",29)(90,"label",51),n(91,"Date of Purchase"),t(),s(92,"input",52),t(),i(93,"div",29)(94,"label",53),n(95,"Number of Units Purchased"),t(),s(96,"input",54),t(),i(97,"div",29)(98,"label",55),n(99,"Remind when how many left?"),t(),s(100,"input",56),t()()(),i(101,"div",46)(102,"button",47),n(103,"Close"),t(),i(104,"button",48),p("click",function(){return d(r),c(o.saveMedicineInfo())}),n(105,"Save Info"),t()()()()(),i(106,"div",57,3)(108,"div",22)(109,"div",23)(110,"div",24)(111,"h5",58),n(112,"Compliance Report"),t(),s(113,"button",26),t(),i(114,"div",27),_(115,Gt,12,1,"div",59)(116,Ht,2,0,"ng-template",null,4,De),t(),i(118,"div",46)(119,"button",47),n(120,"Close"),t()()()()(),i(121,"div",60,5)(123,"div",22)(124,"div",23)(125,"div",24)(126,"h5",61),n(127,"Pill Reminder"),t(),s(128,"button",26),t(),i(129,"div",27)(130,"p"),n(131,"It's time to purchase "),i(132,"strong"),n(133),t(),n(134),t(),i(135,"p"),n(136,"Please purchase it? If already done then add info by clicking medicine info button."),t()(),i(137,"div",46)(138,"button",47),n(139,"Ok"),t()()()()(),i(140,"div",62,6)(142,"div",22)(143,"div",23)(144,"div",24)(145,"h5",63),n(146,"Add Medicine"),t(),s(147,"button",26),t(),i(148,"div",27)(149,"form",28)(150,"div",29)(151,"label",64),n(152,"Dosage Form"),t(),s(153,"input",65),t(),i(154,"div",29)(155,"label",66),n(156,"Drug Name"),t(),s(157,"input",67),t(),i(158,"div",29)(159,"label",68),n(160,"Strength"),t(),s(161,"input",69),t(),i(162,"div",29)(163,"label",33),n(164,"Frequency"),t(),s(165,"input",70),t()()(),i(166,"div",46)(167,"button",47),n(168,"Close"),t(),i(169,"button",48),p("click",function(){return d(r),c(o.saveMedicine())}),n(170,"Save Medicine"),t()()()()()}if(a&2){let r=Y(117);m(33),h("ngForOf",o.patientCompliances),m(10),h("formGroup",o.reminderForm),m(2),h("readOnly",!0),m(2),h("readOnly",!0),m(2),h("readOnly",!0),m(6),h("ngForOf",o.timesArray.controls),m(13),h("ngIf",o.specificDays),m(),h("ngIf",o.customDays),m(19),h("formGroup",o.medicineInfoForm),m(27),h("ngIf",o.complianceReports.length>0)("ngIfElse",r),m(18),f(o.pillReminder==null?null:o.pillReminder.dosageForm),m(),X(" (",o.pillReminder==null?null:o.pillReminder.drugName," ",o.pillReminder==null?null:o.pillReminder.strength,")."),m(15),h("formGroup",o.addMedicineForm)}},dependencies:[ne,pe,M,me,O,G,H,F,ce,se,z,I,N,P,L,ke,R]})}}return l})();var qt=["selfRecordModal"];function Qt(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t(),i(8,"td")(9,"button",28),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editSelfRecord(o))}),s(10,"i",29),t(),i(11,"button",30),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteSelfRecord(o))}),s(12,"i",31),t()()()}if(l&2){let e=b.$implicit;m(2),f(k(3,3,e.date,"dd-MM-yyyy")),m(3),f(e.type),m(2),f(e.description)}}var Ce=(()=>{class l{constructor(e){this.fb=e,this.selfRecords=[],this.isEditMode=!1,this.editIndex=null}ngOnInit(){this.selfRecordForm=this.fb.group({date:[""],type:[""],description:[""]}),this.loadDummyData()}loadDummyData(){this.selfRecords=[{date:new Date("2024-08-01"),type:"Blood Pressure",description:"120/80 mmHg"},{date:new Date("2024-07-15"),type:"Weight",description:"70 kg"}]}addSelfRecord(){this.selfRecordForm.reset(),this.isEditMode=!1,this.editIndex=null,new v(this.selfRecordModal.nativeElement).show()}saveSelfRecord(){let e=this.selfRecordForm.value;this.isEditMode&&this.editIndex!==null?this.selfRecords[this.editIndex]=e:this.selfRecords.push(e);let a=v.getInstance(this.selfRecordModal.nativeElement);a&&a.hide()}editSelfRecord(e){this.isEditMode=!0,this.editIndex=this.selfRecords.indexOf(e),this.selfRecordForm.patchValue(e),new v(this.selfRecordModal.nativeElement).show()}deleteSelfRecord(e){let a=this.selfRecords.indexOf(e);a>-1&&this.selfRecords.splice(a,1)}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-self-record"]],viewQuery:function(a,o){if(a&1&&w(qt,5),a&2){let r;x(r=S())&&(o.selfRecordModal=r.first)}},decls:49,vars:4,consts:[["selfRecordModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-clipboard-plus","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-4","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[4,"ngFor","ngForOf"],["id","selfRecordModal","tabindex","-1","aria-labelledby","selfRecordModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","selfRecordModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","date",1,"form-label","label-modern","shadow"],["type","date","id","date","formControlName","date",1,"form-control"],["for","type",1,"form-label","label-modern","shadow"],["type","text","id","type","formControlName","type",1,"form-control"],["for","description",1,"form-label","label-modern","shadow"],["type","text","id","description","formControlName","description",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"h1",2),s(2,"i",3),n(3,"Self Record "),t(),i(4,"div",4)(5,"div",5)(6,"button",6),p("click",function(){return d(r),c(o.addSelfRecord())}),n(7,"Add Record"),t()()(),i(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th"),n(13,"Date"),t(),i(14,"th"),n(15,"Record Type"),t(),i(16,"th"),n(17,"Description"),t(),i(18,"th"),n(19,"Action"),t()()(),i(20,"tbody"),_(21,Qt,13,6,"tr",9),t()()(),i(22,"div",10,0)(24,"div",11)(25,"div",12)(26,"div",13)(27,"h5",14),n(28),t(),s(29,"button",15),t(),i(30,"div",16)(31,"form",17)(32,"div",18)(33,"label",19),n(34,"Date"),t(),s(35,"input",20),t(),i(36,"div",18)(37,"label",21),n(38,"Record Type"),t(),s(39,"input",22),t(),i(40,"div",18)(41,"label",23),n(42,"Description"),t(),s(43,"input",24),t()()(),i(44,"div",25)(45,"button",26),n(46,"Close"),t(),i(47,"button",27),p("click",function(){return d(r),c(o.saveSelfRecord())}),n(48),t()()()()()()}a&2&&(m(21),h("ngForOf",o.selfRecords),m(7),f(o.isEditMode?"Edit Self Record":"Add Self Record"),m(3),h("formGroup",o.selfRecordForm),m(17),f(o.isEditMode?"Save Changes":"Add Record"))},dependencies:[M,O,F,I,N,P,L,R]})}}return l})();var $t=["symptomModal"];function jt(l,b){if(l&1){let e=g();i(0,"tr")(1,"td"),n(2),T(3,"date"),t(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),t(),i(10,"td"),n(11),t(),i(12,"td"),n(13),t(),i(14,"td")(15,"button",36),p("click",function(){let o=d(e).$implicit,r=y();return c(r.editSymptom(o))}),s(16,"i",37),t(),i(17,"button",38),p("click",function(){let o=d(e).$implicit,r=y();return c(r.deleteSymptom(o))}),s(18,"i",39),t()()()}if(l&2){let e=b.$implicit;m(2),f(k(3,6,e.dateOfOnset,"dd-MM-yyyy")),m(3),f(e.timeOfOnset),m(2),f(e.symptomType),m(2),f(e.description),m(2),f(e.severity),m(2),f(e.comment)}}function Wt(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}function Yt(l,b){if(l&1&&(i(0,"option",40),n(1),t()),l&2){let e=b.$implicit;h("value",e),m(),f(e)}}var ye=(()=>{class l{constructor(e){this.fb=e,this.symptomsRecords=[],this.isEditMode=!1,this.editIndex=null,this.symptomTypes=["Fever","Cough","Fatigue","Shortness of Breath","Headache"],this.severityLevels=["Mild","Moderate","Severe"]}ngOnInit(){this.symptomForm=this.fb.group({dateOfOnset:[""],timeOfOnset:[""],symptomType:[""],description:[""],severity:[""],comment:[""]}),this.loadDummyData()}loadDummyData(){this.symptomsRecords=[{dateOfOnset:new Date("2024-08-01"),timeOfOnset:"08:00 AM",symptomType:"Fever",description:"High temperature, chills",severity:"Moderate",comment:"Started suddenly after travel"},{dateOfOnset:new Date("2024-07-20"),timeOfOnset:"10:30 AM",symptomType:"Cough",description:"Persistent dry cough",severity:"Mild",comment:"No other associated symptoms"},{dateOfOnset:new Date("2024-07-15"),timeOfOnset:"02:00 PM",symptomType:"Fatigue",description:"Feeling of exhaustion",severity:"Severe",comment:"Worsening over the last few days"},{dateOfOnset:new Date("2024-07-10"),timeOfOnset:"09:00 AM",symptomType:"Shortness of Breath",description:"Difficulty breathing, especially at night",severity:"Severe",comment:"Associated with chest pain"},{dateOfOnset:new Date("2024-07-05"),timeOfOnset:"11:00 AM",symptomType:"Headache",description:"Throbbing pain in the temples",severity:"Moderate",comment:"Occurs in the afternoon and evening"}]}addSymptom(){this.symptomForm.reset(),this.isEditMode=!1,this.editIndex=null,new v(this.symptomModal.nativeElement).show()}saveSymptom(){let e=this.symptomForm.value;this.isEditMode&&this.editIndex!==null?this.symptomsRecords[this.editIndex]=e:this.symptomsRecords.push(e);let a=v.getInstance(this.symptomModal.nativeElement);a&&a.hide()}editSymptom(e){this.isEditMode=!0,this.editIndex=this.symptomsRecords.indexOf(e),this.symptomForm.patchValue(e),new v(this.symptomModal.nativeElement).show()}deleteSymptom(e){let a=this.symptomsRecords.indexOf(e);a>-1&&this.symptomsRecords.splice(a,1)}sortTable(e){this.symptomsRecords.sort((a,o)=>{let r=a[e]??"",u=o[e]??"";return r<u?-1:r>u?1:0})}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-patient-symptoms"]],viewQuery:function(a,o){if(a&1&&w($t,5),a&2){let r;x(r=S())&&(o.symptomModal=r.first)}},decls:69,vars:6,consts:[["symptomModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-heart-pulse","me-2"],[1,"row","mb-3","align-items-center"],[1,"col-md-4","col-sm-6","d-flex","justify-content-start","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-modern"],[3,"click"],[4,"ngFor","ngForOf"],["id","symptomModal","tabindex","-1","aria-labelledby","symptomModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","symptomModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","dateOfOnset",1,"form-label","label-modern","shadow"],["type","date","id","dateOfOnset","formControlName","dateOfOnset",1,"form-control"],["for","timeOfOnset",1,"form-label","label-modern","shadow"],["type","time","id","timeOfOnset","formControlName","timeOfOnset",1,"form-control"],["for","symptomType",1,"form-label","label-modern","shadow"],["id","symptomType","formControlName","symptomType",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","description",1,"form-label","label-modern","shadow"],["type","text","id","description","formControlName","description",1,"form-control"],["for","severity",1,"form-label","label-modern","shadow"],["id","severity","formControlName","severity",1,"form-select"],["for","comment",1,"form-label","label-modern","shadow"],["type","text","id","comment","formControlName","comment",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[3,"value"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"h1",2),s(2,"i",3),n(3,"Patient Symptoms "),t(),i(4,"div",4)(5,"div",5)(6,"button",6),p("click",function(){return d(r),c(o.addSymptom())}),n(7,"Add Symptom"),t()()(),i(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),p("click",function(){return d(r),c(o.sortTable("dateOfOnset"))}),n(13,"Date of Onset"),t(),i(14,"th",9),p("click",function(){return d(r),c(o.sortTable("timeOfOnset"))}),n(15,"Time of Onset"),t(),i(16,"th",9),p("click",function(){return d(r),c(o.sortTable("symptomType"))}),n(17,"Symptom Type"),t(),i(18,"th",9),p("click",function(){return d(r),c(o.sortTable("description"))}),n(19,"Description"),t(),i(20,"th",9),p("click",function(){return d(r),c(o.sortTable("severity"))}),n(21,"Severity"),t(),i(22,"th",9),p("click",function(){return d(r),c(o.sortTable("comment"))}),n(23,"Comment"),t(),i(24,"th"),n(25,"Action"),t()()(),i(26,"tbody"),_(27,jt,19,9,"tr",10),t()()()(),i(28,"div",11,0)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h5",15),n(34),t(),s(35,"button",16),t(),i(36,"div",17)(37,"form",18)(38,"div",19)(39,"label",20),n(40,"Date of Onset"),t(),s(41,"input",21),t(),i(42,"div",19)(43,"label",22),n(44,"Time of Onset"),t(),s(45,"input",23),t(),i(46,"div",19)(47,"label",24),n(48,"Symptom Type"),t(),i(49,"select",25),_(50,Wt,2,2,"option",26),t()(),i(51,"div",19)(52,"label",27),n(53,"Description"),t(),s(54,"input",28),t(),i(55,"div",19)(56,"label",29),n(57,"Severity"),t(),i(58,"select",30),_(59,Yt,2,2,"option",26),t()(),i(60,"div",19)(61,"label",31),n(62,"Comment"),t(),s(63,"input",32),t()()(),i(64,"div",33)(65,"button",34),n(66,"Close"),t(),i(67,"button",35),p("click",function(){return d(r),c(o.saveSymptom())}),n(68),t()()()()()}a&2&&(m(27),h("ngForOf",o.symptomsRecords),m(7),f(o.isEditMode?"Edit Symptom":"Add Symptom"),m(3),h("formGroup",o.symptomForm),m(13),h("ngForOf",o.symptomTypes),m(9),h("ngForOf",o.severityLevels),m(9),f(o.isEditMode?"Save Changes":"Add Symptom"))},dependencies:[M,O,G,H,F,z,I,N,P,L,R]})}}return l})();var Ut=["tabContent"],ae=l=>({active:l}),ze=(()=>{class l{constructor(){this.selectedTab="selfRecord"}ngOnInit(){}ngAfterViewInit(){this.loadComponent(Ce)}loadComponent(e){this.tabContent.clear(),this.componentRef=this.tabContent.createComponent(e)}selectTab(e){switch(this.selectedTab=e,e){case"selfRecord":this.loadComponent(Ce);break;case"symptoms":this.selectedTab="symptoms",this.loadComponent(ye);break;case"labData":this.selectedTab="labData",this.loadComponent(be);break;case"investigations":this.selectedTab="investigations",this.loadComponent(he);break;case"immunization":this.selectedTab="immunization",this.loadComponent(fe);break}}static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275cmp=E({type:l,selectors:[["app-patient-self-recording"]],viewQuery:function(a,o){if(a&1&&w(Ut,5,xe),a&2){let r;x(r=S())&&(o.tabContent=r.first)}},decls:19,vars:15,consts:[["tabContent",""],[1,"container"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link","pointer-cursor",3,"click","ngClass"],[1,"tab-content","mt-3"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4),p("click",function(){return d(r),c(o.selectTab("selfRecord"))}),n(4,"Self Record"),t()(),i(5,"li",3)(6,"a",4),p("click",function(){return d(r),c(o.selectTab("symptoms"))}),n(7,"Symptoms"),t()(),i(8,"li",3)(9,"a",4),p("click",function(){return d(r),c(o.selectTab("labData"))}),n(10,"Lab Investigation"),t()(),i(11,"li",3)(12,"a",4),p("click",function(){return d(r),c(o.selectTab("investigations"))}),n(13,"Investigation Reports"),t()(),i(14,"li",3)(15,"a",4),p("click",function(){return d(r),c(o.selectTab("immunization"))}),n(16,"Immunization"),t()()(),s(17,"div",5,0),t()}a&2&&(m(3),h("ngClass",te(5,ae,o.selectedTab==="selfRecord")),m(3),h("ngClass",te(7,ae,o.selectedTab==="symptoms")),m(3),h("ngClass",te(9,ae,o.selectedTab==="labData")),m(3),h("ngClass",te(11,ae,o.selectedTab==="investigations")),m(3),h("ngClass",te(13,ae,o.selectedTab==="immunization")))},dependencies:[W]})}}return l})();var Jt=["reviewModal"],Xt=()=>[1,2,3,4,5],Kt=(l,b)=>({"bi-star-fill":l,"bi-star":b});function Zt(l,b){if(l&1){let e=g();i(0,"div",31)(1,"div",32)(2,"div",33)(3,"h5",34),n(4),t(),i(5,"p",35),n(6),t(),i(7,"p",35)(8,"strong"),n(9,"Degree:"),t(),n(10),t(),i(11,"p",35),s(12,"i",36),n(13),t(),i(14,"button",37),p("click",function(){let o=d(e).$implicit,r=y();return c(r.openReviewModal(o))}),n(15,"View & Rate"),t()()()()}if(l&2){let e=b.$implicit;m(4),f(e.name),m(2),f(e.location),m(4),A(" ",e.degree,""),m(3),X(" ",e.rating," (",e.reviews," reviews) ")}}function ei(l,b){if(l&1&&(i(0,"div")(1,"p")(2,"strong"),n(3),t(),n(4),t()()),l&2){let e=b.$implicit;m(3),f(e.author),m(),A(": ",e.comment,"")}}function ti(l,b){if(l&1){let e=g();i(0,"i",38),p("click",function(){let o=d(e).$implicit,r=y();return c(r.setRating(o))}),t()}if(l&2){let e,a=b.$implicit,o=y();h("ngClass",ie(1,Kt,a<=((e=o.reviewForm.get("rating"))==null?null:e.value),a>((e=o.reviewForm.get("rating"))==null?null:e.value)))}}var Ge=(()=>{class l{constructor(e){this.fb=e,this.searchName="",this.searchLocation="",this.sortOrder="highest",this.doctors=[],this.selectedDoctor=null}ngOnInit(){this.reviewForm=this.fb.group({rating:[""],comment:[""]}),this.doctors=[{name:"Dr. Ganesh",location:"Mumbai",degree:"MD",rating:4.7,reviews:[{author:"Mithul",comment:"Great doctor!"}]},{name:"Dr. Ajay",location:"Thane",degree:"MBBS",rating:4.5,reviews:[{author:"Mithul",comment:"Very professional."}]},{name:"Dr. Mithul",location:"Tulip",degree:"MD",rating:4.5,reviews:[{author:"Mithul",comment:"Great doctor!"}]},{name:"Dr. Manoj",location:"Los Angeles",degree:"MBBS",rating:3,reviews:[{author:"Mithul",comment:"Very professional."}]},{name:"Dr. John Doe",location:"New York",degree:"MD",rating:4.5,reviews:[{author:"Mithul",comment:"Great doctor!"}]},{name:"Dr. Jane Smith",location:"Los Angeles",degree:"MBBS",rating:4.7,reviews:[{author:"Mithul",comment:"Very professional."}]}]}filteredDoctors(){let e=this.doctors.filter(a=>a.name.toLowerCase().includes(this.searchName.toLowerCase())&&a.location.toLowerCase().includes(this.searchLocation.toLowerCase()));return this.sortOrder==="highest"?e=e.sort((a,o)=>o.rating-a.rating):e=e.sort((a,o)=>a.rating-o.rating),e}openReviewModal(e){this.selectedDoctor=e,new v(this.reviewModal.nativeElement).show()}submitReview(){this.selectedDoctor&&(this.selectedDoctor.reviews.push(this.reviewForm.value),this.reviewForm.reset(),new v(this.reviewModal.nativeElement).show())}setRating(e){this.reviewForm.get("rating")?.setValue(e)}static{this.\u0275fac=function(a){return new(a||l)(D(V))}}static{this.\u0275cmp=E({type:l,selectors:[["app-rate"]],viewQuery:function(a,o){if(a&1&&w(Jt,5),a&2){let r;x(r=S())&&(o.reviewModal=r.first)}},decls:45,vars:9,consts:[["reviewModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-star","me-2"],[1,"row","mb-4"],[1,"col-md-4"],["type","text","placeholder","Search by Doctor's Name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Search by Location",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value","highest"],["value","lowest"],[1,"row"],["class","col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],["id","reviewModal","tabindex","-1","aria-labelledby","reviewModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","reviewModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[3,"formGroup"],[1,"mb-3"],["for","rating",1,"form-label"],[1,"star-rating"],["class","bi",3,"ngClass","click",4,"ngFor","ngForOf"],["for","comment",1,"form-label"],["formControlName","comment",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-sm-6","mb-4"],[1,"card","fade-in"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"bi","bi-star-fill"],[1,"btn","btn-primary",3,"click"],[1,"bi",3,"click","ngClass"]],template:function(a,o){if(a&1){let r=g();i(0,"div",1)(1,"h2",2),s(2,"i",3),n(3,"Search & Rate Doctors "),t(),i(4,"div",4)(5,"div",5)(6,"input",6),ee("ngModelChange",function(C){return d(r),Z(o.searchName,C)||(o.searchName=C),c(C)}),t()(),i(7,"div",5)(8,"input",7),ee("ngModelChange",function(C){return d(r),Z(o.searchLocation,C)||(o.searchLocation=C),c(C)}),t()(),i(9,"div",5)(10,"select",8),ee("ngModelChange",function(C){return d(r),Z(o.sortOrder,C)||(o.sortOrder=C),c(C)}),i(11,"option",9),n(12,"Sort by Highest Rating"),t(),i(13,"option",10),n(14,"Sort by Lowest Rating"),t()()()(),i(15,"div",11),_(16,Zt,16,5,"div",12),t()(),i(17,"div",13,0)(19,"div",14)(20,"div",15)(21,"div",16)(22,"h5",17),n(23),t(),s(24,"button",18),t(),i(25,"div",19),_(26,ei,5,2,"div",20),s(27,"hr"),i(28,"h6"),n(29,"Add Your Review:"),t(),i(30,"form",21)(31,"div",22)(32,"label",23),n(33,"Rating"),t(),i(34,"div",24),_(35,ti,1,4,"i",25),t()(),i(36,"div",22)(37,"label",26),n(38,"Comment"),t(),s(39,"textarea",27),t()()(),i(40,"div",28)(41,"button",29),n(42,"Close"),t(),i(43,"button",30),p("click",function(){return d(r),c(o.submitReview())}),n(44,"Submit Review"),t()()()()()}a&2&&(m(6),K("ngModel",o.searchName),m(2),K("ngModel",o.searchLocation),m(2),K("ngModel",o.sortOrder),m(6),h("ngForOf",o.filteredDoctors()),m(7),A("Reviews for ",o.selectedDoctor==null?null:o.selectedDoctor.name,""),m(3),h("ngForOf",o.selectedDoctor==null?null:o.selectedDoctor.reviews),m(4),h("formGroup",o.reviewForm),m(5),h("ngForOf",Se(8,Xt)))},dependencies:[W,M,O,G,H,F,z,I,N,de,P,L],styles:[".star-rating[_ngcontent-%COMP%]{font-size:2rem;color:#fbc02d;cursor:pointer}.star-rating[_ngcontent-%COMP%]   .bi-star[_ngcontent-%COMP%]{color:#ddd}.star-rating[_ngcontent-%COMP%]   .bi-star-fill[_ngcontent-%COMP%]{color:#fbc02d}.star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:color .2s ease-in-out;margin-right:.1rem}.star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover ~ i[_ngcontent-%COMP%]{color:#ffca28}"]})}}return l})();var ii=["commentsModal"],ni=["shareModal"];function oi(l,b){if(l&1){let e=g();i(0,"div",34)(1,"div",35),s(2,"img",36),i(3,"div",37)(4,"h5",38),n(5),t(),i(6,"p",39),n(7),t(),i(8,"p",39),n(9),t(),i(10,"p",39),n(11),t(),i(12,"div",40)(13,"button",41),p("click",function(){let o=d(e).$implicit,r=y();return c(r.viewCase(o.id))}),n(14,"View"),t(),i(15,"div")(16,"button",42),p("click",function(){let o=d(e).$implicit,r=y();return c(r.likeCase(o.id))}),s(17,"i",43),n(18," Like "),i(19,"span"),n(20),t()(),i(21,"button",42),p("click",function(){let o=d(e).$implicit,r=y();return c(r.viewComments(o.id))}),s(22,"i",44),n(23," Comments "),i(24,"span"),n(25),t()(),i(26,"button",45),p("click",function(){let o=d(e).$implicit,r=y();return c(r.shareCase(o.id))}),s(27,"i",46),n(28," Share "),t()()(),i(29,"div",47)(30,"div",48)(31,"input",49),ee("ngModelChange",function(o){let r=d(e).$implicit,u=y();return Z(u.newComment[r.id],o)||(u.newComment[r.id]=o),c(o)}),t(),i(32,"button",41),p("click",function(){let o=d(e).$implicit,r=y();return c(r.addComment(o.id))}),n(33,"Send"),t()()()()()()}if(l&2){let e=b.$implicit,a=y();m(5),A("Case ",e.id,""),m(2),A("",e.shortDescription,"..."),m(2),A("Submitted by: ",e.submittedBy,""),m(2),A("Speciality: ",e.speciality,""),m(9),f(e.likeCount),m(5),f(e.comments.length),m(6),K("ngModel",a.newComment[e.id])}}function ai(l,b){if(l&1){let e=g();i(0,"div",34)(1,"div",35),s(2,"img",36),i(3,"div",37)(4,"h5",38),n(5),t(),i(6,"p",39),n(7),t(),i(8,"p",39),n(9),t(),i(10,"p",39),n(11),t(),i(12,"div",50)(13,"button",41),p("click",function(){let o=d(e).$implicit,r=y();return c(r.viewCase(o.id))}),n(14,"View"),t()()()()()}if(l&2){let e=b.$implicit;m(5),A("Case ",e.id,""),m(2),A("",e.shortDescription,"..."),m(2),A("Submitted by: ",e.submittedBy,""),m(2),A("Speciality: ",e.speciality,"")}}function ri(l,b){if(l&1&&(i(0,"li"),n(1),t()),l&2){let e=b.$implicit;m(),f(e)}}var He=(()=>{class l{constructor(e,a){this.router=e,this.modalService=a,this.shareLink="",this.comments=[],this.newComment={},this.otherRemedies=[{id:1,submittedBy:"Dr. Smith",speciality:"Cardiology",comments:["Great case!"],likeCount:10,shareCount:5,shortDescription:"A detailed case study on cardiology"},{id:2,submittedBy:"Dr. Johnson",speciality:"Neurology",comments:[],likeCount:7,shareCount:2,shortDescription:"An intriguing neurology case"},{id:3,submittedBy:"Dr. Lee",speciality:"Orthopedics",comments:[],likeCount:15,shareCount:3,shortDescription:"Orthopedics case study and analysis"},{id:4,submittedBy:"Dr. Brown",speciality:"Dermatology",comments:[],likeCount:8,shareCount:4,shortDescription:"Dermatology case with treatment details"},{id:5,submittedBy:"Dr. Taylor",speciality:"Pediatrics",comments:[],likeCount:12,shareCount:6,shortDescription:"A pediatric case involving rare symptoms"}],this.yourRemedies=[{id:1,submittedBy:"You",speciality:"Cardiology",comments:[],likeCount:0,shareCount:0,shortDescription:"Your own case study on cardiology"},{id:2,submittedBy:"You",speciality:"Neurology",comments:[],likeCount:0,shareCount:0,shortDescription:"Your own case study on neurology"},{id:3,submittedBy:"You",speciality:"Orthopedics",comments:[],likeCount:0,shareCount:0,shortDescription:"Your own case study on orthopedics"}]}ngOnInit(){}viewCase(e){this.router.navigate(["/physician/view-medical-case",e])}createNewCase(){this.router.navigate(["/physician/new-medical-case"])}addComment(e){let a=this.otherRemedies.findIndex(o=>o.id===e);a!==-1&&this.newComment[e]&&(this.otherRemedies[a].comments.push(this.newComment[e]),this.newComment[e]="")}likeCase(e){let a=this.otherRemedies.findIndex(o=>o.id===e);a!==-1&&this.otherRemedies[a].likeCount++}viewComments(e){let a=this.otherRemedies.findIndex(o=>o.id===e);a!==-1&&(this.comments=this.otherRemedies[a].comments,new v(this.commentsModal.nativeElement).show())}shareCase(e){this.shareLink=`https://HealthDesk.com/physician/view-medical/${e}`,new v(this.shareModal.nativeElement).show()}static{this.\u0275fac=function(a){return new(a||l)(D(Te),D(Fe))}}static{this.\u0275cmp=E({type:l,selectors:[["app-medical-cases"]],viewQuery:function(a,o){if(a&1&&(w(ii,5),w(ni,5)),a&2){let r;x(r=S())&&(o.commentsModal=r.first),x(r=S())&&(o.shareModal=r.first)}},decls:58,vars:4,consts:[["commentsModal",""],["shareModal",""],[1,"container"],[1,"animated-heading"],[1,"bi","bi-journal-medical","me-2"],["id","medicalCasesTabs","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","other-cases-tab","data-bs-toggle","tab","data-bs-target","#other-cases","type","button","role","tab","aria-controls","other-cases","aria-selected","true",1,"nav-link","active"],["id","your-cases-tab","data-bs-toggle","tab","data-bs-target","#your-cases","type","button","role","tab","aria-controls","your-cases","aria-selected","false",1,"nav-link"],["id","medicalCasesTabsContent",1,"tab-content"],["id","other-cases","role","tabpanel","aria-labelledby","other-cases-tab",1,"tab-pane","fade","show","active"],[1,"row","mb-3"],[1,"col"],[1,"form-floating","mb-3"],["type","text","id","speciality","placeholder","Speciality",1,"form-control"],["for","speciality"],["type","button",1,"btn","btn-primary","w-100"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["id","your-cases","role","tabpanel","aria-labelledby","your-cases-tab",1,"tab-pane","fade"],["type","button",1,"btn","btn-primary","mb-3",3,"click"],["id","commentsModal","tabindex","-1","aria-labelledby","commentsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","commentsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","shareModal","tabindex","-1","aria-labelledby","shareModalLabel","aria-hidden","true",1,"modal","fade"],["id","shareModalLabel",1,"modal-title"],["type","text","readonly","",1,"form-control",3,"value"],[1,"col-md-4"],[1,"card","mb-3","small"],["src","https://via.placeholder.com/400x200","alt","Case Image",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-secondary","me-1",3,"click"],[1,"bi","bi-hand-thumbs-up"],[1,"bi","bi-chat-dots"],[1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-share"],[1,"comments","mt-3"],[1,"input-group"],["type","text","placeholder","Write a comment...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between"]],template:function(a,o){if(a&1){let r=g();i(0,"div",2)(1,"h2",3),s(2,"i",4),n(3,"Home Remedies "),t(),i(4,"ul",5)(5,"li",6)(6,"button",7),n(7," Others Remidies "),t()(),i(8,"li",6)(9,"button",8),n(10," Your Remidies "),t()()(),i(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),s(16,"input",14),i(17,"label",15),n(18,"Speciality"),t()()(),i(19,"div",12)(20,"button",16),n(21,"Search"),t()()(),i(22,"div",17),_(23,oi,34,7,"div",18),t()(),i(24,"div",19)(25,"button",20),p("click",function(){return d(r),c(o.createNewCase())}),n(26,"New Case"),t(),i(27,"div",17),_(28,ai,15,4,"div",18),t()()(),i(29,"div",21,0)(31,"div",22)(32,"div",23)(33,"div",24)(34,"h5",25),n(35,"Comments"),t(),s(36,"button",26),t(),i(37,"div",27)(38,"ul"),_(39,ri,2,1,"li",28),t()(),i(40,"div",29)(41,"button",30),n(42,"Close"),t()()()()(),i(43,"div",31,1)(45,"div",22)(46,"div",23)(47,"div",24)(48,"h5",32),n(49,"Share Medical Case"),t(),s(50,"button",26),t(),i(51,"div",27)(52,"p"),n(53,"Copy the link below to share this case:"),t(),s(54,"input",33),t(),i(55,"div",29)(56,"button",30),n(57,"Close"),t()()()()()()}a&2&&(m(23),h("ngForOf",o.otherRemedies),m(5),h("ngForOf",o.yourRemedies),m(11),h("ngForOf",o.comments),m(15),h("value",o.shareLink))},dependencies:[M,F,I,de]})}}return l})();var li=[{path:"",component:Ae,children:[{path:"",component:Re},{path:"history",component:Ne},{path:"treatment",component:Oe},{path:"appointments",component:Pe},{path:"self-recording",component:ze},{path:"refill",component:Be},{path:"symptoms",component:ye},{path:"daily-activity",component:Le},{path:"lab-data",component:be},{path:"reports",component:he},{path:"immunization",component:fe},{path:"rate",component:Ge},{path:"remidies",component:He}]}],qe=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275mod=le({type:l})}static{this.\u0275inj=re({imports:[ge.forChild(li),ge]})}}return l})();var Qn=(()=>{class l{static{this.\u0275fac=function(a){return new(a||l)}}static{this.\u0275mod=le({type:l})}static{this.\u0275inj=re({imports:[Ie,Ve,qe]})}}return l})();export{Qn as PatientModule};
