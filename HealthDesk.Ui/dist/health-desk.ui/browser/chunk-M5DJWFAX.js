import{a as d,c as h}from"./chunk-ZAG3K7T2.js";import{H as c}from"./chunk-KXAHTZYI.js";import{i as n}from"./chunk-H5ORMA4Q.js";var S=(()=>{class t{constructor(){this.database={Drugs:[],Strengths:[],Frequencies:[],Systems:[],Routes:[],Forms:[],Symptoms:[],Vaccines:[],Durations:[],Investigations:[],Councils:[]},this.CACHE_KEY="databaseCache",this.isLoaded=!1}loadDatabase(){return n(this,null,function*(){if(this.isLoaded)return;let e=localStorage.getItem(this.CACHE_KEY);if(e){this.database=JSON.parse(e),this.isLoaded=!0,console.log("Loaded database from cache.");return}let s="assets/db/database.xlsx";try{let u=yield(yield fetch(s)).arrayBuffer(),l=d(u,{type:"array"});for(let o of Object.keys(this.database)){let i=l.Sheets[o];if(i){let g=h.sheet_to_json(i,{header:1}).slice(1).map(a=>a[0]);this.database[o]=Array.from(new Set(g)).filter(a=>a)}}localStorage.setItem(this.CACHE_KEY,JSON.stringify(this.database)),this.isLoaded=!0,console.log("Database loaded and cached successfully.")}catch(r){console.error("Error loading database:",r)}})}clearCache(){localStorage.removeItem(this.CACHE_KEY),this.isLoaded=!1}getDrugs(){return this.database.Drugs}getStrengths(){return this.database.Strengths}getFrequencies(){return this.database.Frequencies}getSystems(){return this.database.Systems}getRoutes(){return this.database.Routes}getForms(){return this.database.Forms}getSymptoms(){return this.database.Symptoms}getVaccines(){return this.database.Vaccines}getDurations(){return this.database.Durations}getInvestigations(){return this.database.Investigations}getCouncils(){return this.database.Councils}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{S as a};
